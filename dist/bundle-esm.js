import t from"vue";import{Editor as e,EditorMenuBar as o,EditorMenuBubble as n,EditorContent as i,Node as r,Plugin as s}from"tiptap";import{VTooltip as a,VBtn as l,VIcon as p,VToolbar as u,VCard as c,VDialog as d,VCardTitle as f,VCardText as h,VCardActions as m,VSpacer as v,VTextField as g,VRow as b,VCol as y,VImg as w,VTabs as k,VTab as x,VTabsSlider as S,VTabItem as O,VTabsItems as L,VCheckbox as A}from"vuetify/lib";import{Placeholder as C,Heading as E,Bold as T,Italic as R,Strike as I,Underline as M,Code as B,CodeBlock as _,BulletList as N,OrderedList as P,ListItem as H,Blockquote as z,HardBreak as D,HorizontalRule as $,History as V,Link as j,Image as F,TodoList as q,Table as U,TableCell as J,TableHeader as W,TableRow as K}from"tiptap-extensions";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Z(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s}function G(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}
/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Y(t){return function(t){if(Array.isArray(t)){for(var e=0,o=new Array(t.length);e<t.length;e++)o[e]=t[e];return o}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Q(t,e,o){(o?Reflect.getOwnMetadataKeys(e,o):Reflect.getOwnMetadataKeys(e)).forEach((function(n){var i=o?Reflect.getOwnMetadata(n,e,o):Reflect.getOwnMetadata(n,e);o?Reflect.defineMetadata(n,i,t,o):Reflect.defineMetadata(n,i,t)}))}var tt={__proto__:[]}instanceof Array;function et(t){return function(e,o,n){var i="function"==typeof e?e:e.constructor;i.__decorators__||(i.__decorators__=[]),"number"!=typeof n&&(n=void 0),i.__decorators__.push((function(e){return t(e,o,n)}))}}function ot(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t.extend({mixins:o})}var nt=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function it(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.name=o.name||e._componentTag||e.name;var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(t){if("constructor"!==t)if(nt.indexOf(t)>-1)o[t]=n[t];else{var e=Object.getOwnPropertyDescriptor(n,t);void 0!==e.value?"function"==typeof e.value?(o.methods||(o.methods={}))[t]=e.value:(o.mixins||(o.mixins=[])).push({data:function(){return function(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}({},t,e.value)}}):(e.get||e.set)&&((o.computed||(o.computed={}))[t]={get:e.get,set:e.set})}})),(o.mixins||(o.mixins=[])).push({data:function(){return function(t,e){var o=e.prototype._init;e.prototype._init=function(){var e=this,o=Object.getOwnPropertyNames(t);if(t.$options.props)for(var n in t.$options.props)t.hasOwnProperty(n)||o.push(n);o.forEach((function(o){Object.defineProperty(e,o,{get:function(){return t[o]},set:function(e){t[o]=e},configurable:!0})}))};var n=new e;e.prototype._init=o;var i={};return Object.keys(n).forEach((function(t){void 0!==n[t]&&(i[t]=n[t])})),i}(this,e)}});var i=e.__decorators__;i&&(i.forEach((function(t){return t(o)})),delete e.__decorators__);var r,s,a=Object.getPrototypeOf(e.prototype),l=a instanceof t?a.constructor:t,p=l.extend(o);return function(t,e,o){Object.getOwnPropertyNames(e).forEach((function(n){if(!rt[n]){var i=Object.getOwnPropertyDescriptor(t,n);if(!i||i.configurable){var r,s,a=Object.getOwnPropertyDescriptor(e,n);if(!tt){if("cid"===n)return;var l=Object.getOwnPropertyDescriptor(o,n);if(r=a.value,s=X(r),null!=r&&("object"===s||"function"===s)&&l&&l.value===a.value)return}Object.defineProperty(t,n,a)}}}))}(p,e,l),"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys&&(Q(r=p,s=e),Object.getOwnPropertyNames(s.prototype).forEach((function(t){Q(r.prototype,s.prototype,t)})),Object.getOwnPropertyNames(s).forEach((function(t){Q(r,s,t)}))),p}var rt={prototype:!0,arguments:!0,callee:!0,caller:!0};function st(t){return"function"==typeof t?it(t):function(e){return it(e,t)}}st.registerHooks=function(t){nt.push.apply(nt,Y(t))};var at="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function lt(t){return void 0===t&&(t={}),function(e,o){!function(t,e,o){if(at&&!Array.isArray(t)&&"function"!=typeof t&&void 0===t.type){var n=Reflect.getMetadata("design:type",e,o);n!==Object&&(t.type=n)}}(t,e,o),et((function(e,o){(e.props||(e.props={}))[o]=t}))(e,o)}}function pt(t,e){void 0===e&&(e={});var o=e.deep,n=void 0!==o&&o,i=e.immediate,r=void 0!==i&&i;return et((function(e,o){"object"!=typeof e.watch&&(e.watch=Object.create(null));var i=e.watch;"object"!=typeof i[t]||Array.isArray(i[t])?void 0===i[t]&&(i[t]=[]):i[t]=[i[t]],i[t].push({handler:o,deep:n,immediate:r})}))}var ut={color:"grey lighten-4",flat:!0,dense:!0};class ct{constructor(t){this.text=t}toString(){return this.text}}class dt{constructor(t){this.name=t}toString(){return this.name}}const ft="tiptap-vuetify",ht="input",mt="init",vt="blur",gt="focus",bt={VALUE:"value",EXTENSIONS:"extensions",TOOLBAR_ATTRIBUTES:"toolbarAttributes",EDITOR_PROPERTIES:"editorProperties",NATIVE_EXTENSIONS:"nativeExtensions",PLACEHOLDER:"placeholder",CARD_PROPS:"cardProps",OUTPUT_FORMAT:"outputFormat",TYPE:"type",MIN_HEIGHT:"minHeight",MAX_HEIGHT:"maxHeight",DISABLED:"disabled"};var yt;!function(t){t.card="card",t.inline="inline"}(yt||(yt={}));var wt,kt,xt,St,Ot,Lt=new class{warn(t){console.warn(`${ft}: ${t}`)}error(t){console.error(`${ft}: ${t}`)}};const At={EDITOR:"editor",OPTIONS:"options",CONTEXT:"context",DARK:"dark",DISABLED:"disabled"};let Ct=class extends t{constructor(){super(...arguments),this.PROPS=At}get buttonIcon(){const t=this[At.OPTIONS].icons[this.$tiptapVuetify.iconsGroup];return t||(Lt.warn("No icon was provided in extension options."),"No icon")}get isTextIcon(){return this.buttonIcon instanceof ct}get isVuetifyIcon(){return this.buttonIcon instanceof dt}get tooltipText(){const t=this.$props[At.OPTIONS].tooltip;return"function"==typeof t?t(this.$props[At.CONTEXT],this.$props[At.OPTIONS]):t}};wt=At.DISABLED,kt=At.EDITOR,xt=At.OPTIONS,St=At.CONTEXT,Ot=At.DARK,Z([lt({type:Boolean,default:!1}),G("design:type",Boolean)],Ct.prototype,wt,void 0),Z([lt({type:Object,required:!0}),G("design:type",e)],Ct.prototype,kt,void 0),Z([lt({type:Object,required:!0}),G("design:type",Object)],Ct.prototype,xt,void 0),Z([lt({type:Object,required:!0}),G("design:type",Object)],Ct.prototype,St,void 0),Z([lt({type:Boolean,default:!1}),G("design:type",Boolean)],Ct.prototype,Ot,void 0),Ct=Z([st({components:{VTooltip:a,VBtn:l,VIcon:p}})],Ct);var Et=function(t,e,o,n,i,r,s,a,l,p){"boolean"!=typeof s&&(l=a,a=s,s=!1);var u,c="function"==typeof o?o.options:o;if(t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),n&&(c._scopeId=n),r?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=u):e&&(u=s?function(){e.call(this,p(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),u)if(c.functional){var d=c.render;c.render=function(t,e){return u.call(e),d(t,e)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,u):[u]}return o};var Tt,Rt,It,Mt,Bt,_t=Et({render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-btn",t._g({class:{"tiptap-vuetify-editor__action-render-btn":!0,"v-btn--active":t.$props[t.PROPS.OPTIONS].isActive(t.$props[t.PROPS.CONTEXT])},attrs:{disabled:t.disabled,dark:t.$props[t.PROPS.DARK],small:"",icon:""},on:{click:function(e){return t.options.onClick({context:t.$props[t.PROPS.CONTEXT],editor:t.$props[t.PROPS.EDITOR]})}}},n),[o(t.isTextIcon?"b":t.isVuetifyIcon?"v-icon":null,{tag:"component",staticClass:"tiptap-vuetify-editor__btn-icon"},[t._v("\n        "+t._s(t.buttonIcon)+"\n      ")])],1)]}}])},[t._v(" "),[t._v(t._s(t.tooltipText))]],2)},staticRenderFns:[]},undefined,Ct,undefined,!1,undefined,void 0,void 0);class Nt{constructor(t){const e=t.nativeExtensionName;this.options={onClick({context:o}){o.commands[e](t.onClickOptions)},isActive:({isActive:o})=>!!o[e]&&o[e](t.isActiveOptions),...t}}}const Pt={EDITOR:"editor",ACTIONS:"actions",CONTEXT:"context",DARK:"dark",DISABLED:"disabled"};let Ht=class extends t{constructor(){super(...arguments),this.PROPS=Pt}isBtn(t){return t.render instanceof Nt}};Tt=Pt.EDITOR,Rt=Pt.DISABLED,It=Pt.ACTIONS,Mt=Pt.CONTEXT,Bt=Pt.DARK,Z([lt({type:Object,required:!0}),G("design:type",e)],Ht.prototype,Tt,void 0),Z([lt({type:Boolean,default:!1}),G("design:type",Boolean)],Ht.prototype,Rt,void 0),Z([lt({type:Array,default:()=>[]}),G("design:type",Array)],Ht.prototype,It,void 0),Z([lt({type:Object}),G("design:type",Object)],Ht.prototype,Mt,void 0),Z([lt({type:Boolean,default:!1}),G("design:type",Boolean)],Ht.prototype,Bt,void 0),Ht=Z([st({components:{"action-btn":_t}})],Ht);var zt=Et({render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._l(t.$props[t.PROPS.ACTIONS],(function(e,n){return[t.isBtn(e)?o("action-btn",{key:"action-button-"+n,attrs:{options:e.render.options,context:t.$props[t.PROPS.CONTEXT],editor:t.$props[t.PROPS.EDITOR],dark:t.$props[t.PROPS.DARK],disabled:t.$props[t.PROPS.DISABLED]}}):t._e()]}))],2)},staticRenderFns:[]},undefined,Ht,undefined,!1,undefined,void 0,void 0);let Dt=class extends t{constructor(){super(...arguments),this.toolbarConfig=ut}};Z([lt({type:Boolean,default:!1}),G("design:type",Boolean)],Dt.prototype,"disabled",void 0),Z([lt({type:Object,required:!0}),G("design:type",e)],Dt.prototype,"editor",void 0),Z([lt({type:Array,default:()=>[]}),G("design:type",Array)],Dt.prototype,"actions",void 0),Z([lt({type:[Array,Object],default:()=>({})}),G("design:type",Object)],Dt.prototype,"toolbarAttributes",void 0),Dt=Z([st({components:{ActionsRender:zt,EditorMenuBar:o,VToolbar:u}})],Dt);var $t=Et({render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tiptap-vuetify-editor__toolbar"},[o("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("default",(function(){return[o("v-toolbar",t._b({},"v-toolbar",Object.assign({},t.toolbarConfig,t.toolbarAttributes),!1),[o("actions-render",{attrs:{actions:t.actions,context:e,editor:t.editor,disabled:t.disabled}})],1)]}),{isActive:e.isActive,commands:e.commands})]}}],null,!0)})],1)},staticRenderFns:[]},undefined,Dt,undefined,!1,undefined,void 0,void 0),Vt={extensions:{Blockquote:{buttons:{blockquote:{tooltip:"引用"}}},Bold:{buttons:{bold:{tooltip:"粗体"}}},BulletList:{buttons:{bulletList:{tooltip:"项目符号"}}},Code:{buttons:{code:{tooltip:"代码"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"代码块"}}},History:{buttons:{undo:{tooltip:"撤销"},redo:{tooltip:"重做"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"水平线"}}},Italic:{buttons:{italic:{tooltip:"斜体"}}},OrderedList:{buttons:{orderedList:{tooltip:"数字编号"}}},Paragraph:{buttons:{paragraph:{tooltip:"段落"}}},Strike:{buttons:{strike:{tooltip:"删除线"}}},Underline:{buttons:{underline:{tooltip:"下划线"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>t+" 级标题 "}}},Link:{buttons:{isActive:{tooltip:"改变链接"},notActive:{tooltip:"增加链接"}},window:{title:"增加链接",form:{hrefLabel:"链接"},buttons:{close:"关闭",remove:"移除",apply:"使用"}}},Image:{buttons:{tooltip:"图片"},window:{title:"添加图片",form:{sourceLink:"图片链接"},buttons:{close:"关闭",apply:"使用"}}}}};const jt="en",Ft={en:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Block quote"}}},Bold:{buttons:{bold:{tooltip:"Bold"}}},BulletList:{buttons:{bulletList:{tooltip:"Bulleted list"}}},Code:{buttons:{code:{tooltip:"Code"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Code block"}}},History:{buttons:{undo:{tooltip:"Undo"},redo:{tooltip:"Redo"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Horizontal line"}}},Italic:{buttons:{italic:{tooltip:"Italic"}}},OrderedList:{buttons:{orderedList:{tooltip:"Ordered list"}}},Paragraph:{buttons:{paragraph:{tooltip:"Paragraph"}}},Strike:{buttons:{strike:{tooltip:"Strike"}}},Underline:{buttons:{underline:{tooltip:"Underline"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>t+" level header"}}},Link:{buttons:{isActive:{tooltip:"Change Link"},notActive:{tooltip:"Add Link"}},window:{title:"Link control",form:{hrefLabel:"URL"},buttons:{close:"Close",remove:"Remove",apply:"Apply"}}},Image:{buttons:{tooltip:"Image"},window:{title:"Add Image",form:{sourceLink:"Image URL",altText:"Alternative Text",addImage:"Add Image"},imageUpload:{instruction:"Choose a file(s) or drag it here."},buttons:{close:"Close",apply:"Apply"}}},Table:{buttons:{tooltip:"Table"},window:{title:"Tables",form:{rowsCount:"Rows count",colsCount:"Cols count",withHeaderRow:"With header row"},buttons:{close:"Close",apply:"Apply"}}},TodoList:{buttons:{todoList:{tooltip:"To Do List"}}}}},ru:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Блок цитаты"}}},Bold:{buttons:{bold:{tooltip:"Жирный"}}},BulletList:{buttons:{bulletList:{tooltip:"Маркированный список"}}},Code:{buttons:{code:{tooltip:"Код"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Блок кода"}}},History:{buttons:{undo:{tooltip:"Назад"},redo:{tooltip:"Вперед"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Горизонтальная линия"}}},Italic:{buttons:{italic:{tooltip:"Курсивный"}}},OrderedList:{buttons:{orderedList:{tooltip:"Упорядоченный список"}}},Paragraph:{buttons:{paragraph:{tooltip:"Параграф"}}},Strike:{buttons:{strike:{tooltip:"Перечерктнутый"}}},Underline:{buttons:{underline:{tooltip:"Подчерктнутый"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>`Заголовок ${t} уровня`}}},Link:{buttons:{isActive:{tooltip:"Изменить ссылку"},notActive:{tooltip:"Добавить ссылку"}},window:{title:"Управление ссылкой",form:{hrefLabel:"Href"},buttons:{close:"Закрыть",remove:"Удалить",apply:"Применить"}}},Image:{buttons:{tooltip:"Картинка"},window:{title:"Добавить картинку",form:{sourceLink:"Ссылка на картинку",altText:"Альтернативный текст",addImage:"Добавить картинку"},imageUpload:{instruction:"Выберите файл (ы) или перетащите его (их) сюда."},buttons:{close:"Закрыть",apply:"Применить"}}},TodoList:{buttons:{todoList:{tooltip:"Список дел"}}}}},es:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Cita en bloque"}}},Bold:{buttons:{bold:{tooltip:"Texto en negrita"}}},BulletList:{buttons:{bulletList:{tooltip:"Lista no ordenada"}}},Code:{buttons:{code:{tooltip:"Código"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Bloque de código"}}},History:{buttons:{undo:{tooltip:"Deshacer"},redo:{tooltip:"Rehacer"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Línea horizontal"}}},Italic:{buttons:{italic:{tooltip:"Texto en cursiva"}}},OrderedList:{buttons:{orderedList:{tooltip:"Lista ordenada"}}},Paragraph:{buttons:{paragraph:{tooltip:"Párrafo"}}},Strike:{buttons:{strike:{tooltip:"Tachar texto"}}},Underline:{buttons:{underline:{tooltip:"Subrayar texto"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>`Nivel de encabezado ${t}`}}},Link:{buttons:{isActive:{tooltip:"Actualizar enlace"},notActive:{tooltip:"Añadir enlace"}},window:{title:"Control de enlace",form:{hrefLabel:"Href"},buttons:{close:"Cerrar",remove:"Eliminar",apply:"Aplicar"}}},Image:{buttons:{tooltip:"Imagen"},window:{title:"Agregar Imagen",form:{sourceLink:"URL de la Imagen"},buttons:{close:"Cerrar",apply:"Aplicar"}}}}},pl:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Blok cytatu"}}},Bold:{buttons:{bold:{tooltip:"Pogrubienie"}}},BulletList:{buttons:{bulletList:{tooltip:"Lista punktów"}}},Code:{buttons:{code:{tooltip:"Kod"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Blok kodu"}}},History:{buttons:{undo:{tooltip:"Cofnij"},redo:{tooltip:"Ponów"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Linia pozioma"}}},Italic:{buttons:{italic:{tooltip:"Kursywa"}}},OrderedList:{buttons:{orderedList:{tooltip:"Lista numerowana"}}},Paragraph:{buttons:{paragraph:{tooltip:"Paragraf"}}},Strike:{buttons:{strike:{tooltip:"Przekreślenie"}}},Underline:{buttons:{underline:{tooltip:"Podkreślenie"}}},Heading:{buttons:{heading:{tooltip:t=>"Nagłówek "+t.level}}},Link:{buttons:{isActive:{tooltip:"Zaktualizuj odnośnik"},notActive:{tooltip:"Dodaj odnośnik"}},window:{title:"Odnośnik",form:{hrefLabel:"Adres URL"},buttons:{close:"Zamknij",remove:"Usuń",apply:"Zastosuj"}}},Image:{buttons:{tooltip:"Obrazek"},window:{title:"Dodaj obrazek",form:{sourceLink:"Adres URL obrazka"},buttons:{close:"Zamknij",apply:"Zastosuj"}}}}},fr:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Bloc de citation"}}},Bold:{buttons:{bold:{tooltip:"Gras"}}},BulletList:{buttons:{bulletList:{tooltip:"Liste à puce"}}},Code:{buttons:{code:{tooltip:"Code"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Bloc de code"}}},History:{buttons:{undo:{tooltip:"Annuler"},redo:{tooltip:"Rétablir"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Ligne horizontale"}}},Italic:{buttons:{italic:{tooltip:"Italique"}}},OrderedList:{buttons:{orderedList:{tooltip:"Liste ordonnée"}}},Paragraph:{buttons:{paragraph:{tooltip:"Paragraphe"}}},Strike:{buttons:{strike:{tooltip:"Barré"}}},Underline:{buttons:{underline:{tooltip:"Souligné"}}},Heading:{buttons:{heading:{tooltip:t=>"Titre de niveau "+t.level}}},Link:{buttons:{isActive:{tooltip:"Mise à jour du lien"},notActive:{tooltip:"Ajouter un lien"}},window:{title:"Ajout ou mise à jour d'un lien",form:{hrefLabel:"URL"},buttons:{close:"Fermer",remove:"Retirer",apply:"Appliquer"}}},Image:{buttons:{tooltip:"Image"},window:{title:"Ajouter une image",form:{sourceLink:"Image URL",altText:"Texte alternatif",addImage:"Ajouter une image"},imageUpload:{instruction:"Sélectionnez un fichier, ou glissez-déposez ici"},buttons:{close:"Fermer",apply:"Appliquer"}}},TodoList:{buttons:{todoList:{tooltip:"Liste de choses à faire"}}}}},uk:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Блок цитати"}}},Bold:{buttons:{bold:{tooltip:"Жирний"}}},BulletList:{buttons:{bulletList:{tooltip:"Маркований список"}}},Code:{buttons:{code:{tooltip:"Код"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Блок кода"}}},History:{buttons:{undo:{tooltip:"Назад"},redo:{tooltip:"Вперед"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Горизонтальна лінія"}}},Italic:{buttons:{italic:{tooltip:"Курсивний"}}},OrderedList:{buttons:{orderedList:{tooltip:"Упорядкований список"}}},Paragraph:{buttons:{paragraph:{tooltip:"Параграф"}}},Strike:{buttons:{strike:{tooltip:"Перекреслений"}}},Underline:{buttons:{underline:{tooltip:"Підкреслений"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>`Заголовок ${t} рівня`}}},Link:{buttons:{isActive:{tooltip:"Змінити посилання"},notActive:{tooltip:"Додати посилання"}},window:{title:"Управління посиланням",form:{hrefLabel:"Href"},buttons:{close:"Закрити",remove:"Вилучити",apply:"Застосувати"}}}}},ptbr:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Bloco de citação"}}},Bold:{buttons:{bold:{tooltip:"Negrito"}}},BulletList:{buttons:{bulletList:{tooltip:"Lista de pontos"}}},Code:{buttons:{code:{tooltip:"Código"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Bloco de código"}}},History:{buttons:{undo:{tooltip:"Desfazer"},redo:{tooltip:"Refazer"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Linha horizontal"}}},Italic:{buttons:{italic:{tooltip:"Itálico"}}},OrderedList:{buttons:{orderedList:{tooltip:"Lista ordenada"}}},Paragraph:{buttons:{paragraph:{tooltip:"Parágrafo"}}},Strike:{buttons:{strike:{tooltip:"Riscado"}}},Underline:{buttons:{underline:{tooltip:"Sublinhado"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>"cabeçalho nível "+t}}},Link:{buttons:{isActive:{tooltip:"Mudar Link"},notActive:{tooltip:"Adicionar Link"}},window:{title:"Configurar link",form:{hrefLabel:"link"},buttons:{close:"Fechar",remove:"Remover",apply:"Aplicar"}}}}},tr:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Alıntı"}}},Bold:{buttons:{bold:{tooltip:"Kalın"}}},BulletList:{buttons:{bulletList:{tooltip:"Liste"}}},Code:{buttons:{code:{tooltip:"Kod"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Kod Bloğu"}}},History:{buttons:{undo:{tooltip:"Geri"},redo:{tooltip:"İleri"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Yatay çizgi"}}},Italic:{buttons:{italic:{tooltip:"İtalik"}}},OrderedList:{buttons:{orderedList:{tooltip:"Numaralı Liste"}}},Paragraph:{buttons:{paragraph:{tooltip:"Paragraf"}}},Strike:{buttons:{strike:{tooltip:"Üstü Çizili"}}},Underline:{buttons:{underline:{tooltip:"Altı Çizili"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>t+" Başlık"}}},Link:{buttons:{isActive:{tooltip:"Link'i Düzenle"},notActive:{tooltip:"Link Ekle"}},window:{title:"Link Kontrol",form:{hrefLabel:"Adres"},buttons:{close:"Kapat",remove:"Sil",apply:"Uygula"}}}}},he:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"ציטוט"}}},Bold:{buttons:{bold:{tooltip:"מודגש"}}},BulletList:{buttons:{bulletList:{tooltip:"רשימה לא ממוספרת"}}},Code:{buttons:{code:{tooltip:"קוד"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"בלוק קוד"}}},History:{buttons:{undo:{tooltip:"ביטול"},redo:{tooltip:"בצע שוב"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"קו אופקי"}}},Italic:{buttons:{italic:{tooltip:"מוטה"}}},OrderedList:{buttons:{orderedList:{tooltip:"רשימה ממוספרת"}}},Paragraph:{buttons:{paragraph:{tooltip:"פיסקה"}}},Strike:{buttons:{strike:{tooltip:"קו אמצע"}}},Underline:{buttons:{underline:{tooltip:"קו תחתון"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>t+" כותרת בגודל"}}},Link:{buttons:{isActive:{tooltip:"שנה קישור"},notActive:{tooltip:"הוסף קישור"}},window:{title:"ניהול קישור",form:{hrefLabel:"כתובת"},buttons:{close:"סגור",remove:"הסר",apply:"החל"}}}}},nl:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Citaatblok"}}},Bold:{buttons:{bold:{tooltip:"Dikgedrukt"}}},BulletList:{buttons:{bulletList:{tooltip:"Ongenummerde lijst"}}},Code:{buttons:{code:{tooltip:"Code"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Code blok"}}},History:{buttons:{undo:{tooltip:"Ongedaan maken"},redo:{tooltip:"Opnieuw uitvoeren"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Horizontale lijn"}}},Italic:{buttons:{italic:{tooltip:"Cursief"}}},OrderedList:{buttons:{orderedList:{tooltip:"Genummerde lijst"}}},Paragraph:{buttons:{paragraph:{tooltip:"Paragraaf"}}},Strike:{buttons:{strike:{tooltip:"Doorhalen"}}},Underline:{buttons:{underline:{tooltip:"Onderstrepen"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>"Kop "+t}}},Link:{buttons:{isActive:{tooltip:"Link wijzigigen"},notActive:{tooltip:"Link invoegen"}},window:{title:"Link controle",form:{hrefLabel:"URL"},buttons:{close:"Sluiten",remove:"Verwijderen",apply:"Toepassen"}}},Image:{buttons:{tooltip:"Afbeelding"},window:{title:"Afbeelding toevoegen",form:{sourceLink:"Afbeelding URL",altText:"Alternatieve tekst",addImage:"Afbeelding toevoegen"},imageUpload:{instruction:"Kies of sleep een of meerdere bestanden."},buttons:{close:"Sluiten",apply:"Toepassen"}}},Table:{buttons:{tooltip:"Tabel"},window:{title:"Tabellen",form:{rowsCount:"Aantal rijen",colsCount:"Aantal kolommen",withHeaderRow:"Met koprij"},buttons:{close:"Sluiten",apply:"Toepassen"}}},TodoList:{buttons:{todoList:{tooltip:"Takenlijst"}}}}},ja:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"引用"}}},Bold:{buttons:{bold:{tooltip:"太字"}}},BulletList:{buttons:{bulletList:{tooltip:"箇条書き"}}},Code:{buttons:{code:{tooltip:"コード"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"コードブロック"}}},History:{buttons:{undo:{tooltip:"元に戻す"},redo:{tooltip:"やり直し"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"平行線"}}},Italic:{buttons:{italic:{tooltip:"斜体"}}},OrderedList:{buttons:{orderedList:{tooltip:"番号付きリスト"}}},Paragraph:{buttons:{paragraph:{tooltip:"段落"}}},Strike:{buttons:{strike:{tooltip:"取り消し線"}}},Underline:{buttons:{underline:{tooltip:"下線"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>"見出し "+t}}},Link:{buttons:{isActive:{tooltip:"リンク変更"},notActive:{tooltip:"リンク追加"}},window:{title:"リンクの編集",form:{hrefLabel:"リンク"},buttons:{close:"閉じる",remove:"削除",apply:"適用"}}},Image:{buttons:{tooltip:"画像"},window:{title:"画像を追加する",form:{sourceLink:"画像URL"},buttons:{close:"閉じる",apply:"適用"}}}}},de:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Block Zitat"}}},Bold:{buttons:{bold:{tooltip:"Fett"}}},BulletList:{buttons:{bulletList:{tooltip:"Aufzählungsliste"}}},Code:{buttons:{code:{tooltip:"Code"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Code Abschnitt"}}},History:{buttons:{undo:{tooltip:"Rückgängig"},redo:{tooltip:"Wiederherstellen"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Horizontale Linie"}}},Italic:{buttons:{italic:{tooltip:"Kursiv"}}},OrderedList:{buttons:{orderedList:{tooltip:"Geordnete Liste"}}},Paragraph:{buttons:{paragraph:{tooltip:"Paragraph"}}},Strike:{buttons:{strike:{tooltip:"Durchgestrichen"}}},Underline:{buttons:{underline:{tooltip:"Unterstreichen"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>t+" level Überschrift"}}},Link:{buttons:{isActive:{tooltip:"Link ändern"},notActive:{tooltip:"Link hinzufügen"}},window:{title:"Link bearbeiten",form:{hrefLabel:"URL"},buttons:{close:"Schließen",remove:"Entfernen",apply:"Übernehmen"}}},Image:{buttons:{tooltip:"Bild"},window:{title:"Bild hinzufügen",form:{sourceLink:"Bild URL",altText:"Alternativtext",addImage:"Bild hinzufügen"},imageUpload:{instruction:"Wählen Sie eine oder mehrere Dateien aus oder ziehen Sie diese hierher."},buttons:{close:"Schließen",apply:"Übernehmen"}}},TodoList:{buttons:{todoList:{tooltip:"Todo-Liste"}}}}},ko:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"인용"}}},Bold:{buttons:{bold:{tooltip:"굵게"}}},BulletList:{buttons:{bulletList:{tooltip:"글머리 기호"}}},Code:{buttons:{code:{tooltip:"코드"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"코드 블록"}}},History:{buttons:{undo:{tooltip:"입력 취소"},redo:{tooltip:"입력 다시 실행"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"수평선"}}},Italic:{buttons:{italic:{tooltip:"기울임꼴"}}},OrderedList:{buttons:{orderedList:{tooltip:"번호 매기기"}}},Paragraph:{buttons:{paragraph:{tooltip:"단락"}}},Strike:{buttons:{strike:{tooltip:"취소선"}}},Underline:{buttons:{underline:{tooltip:"밑줄"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>"헤딩 "+t}}},Link:{buttons:{isActive:{tooltip:"링크 변경"},notActive:{tooltip:"링크 추가"}},window:{title:"링크 편집",form:{hrefLabel:"링크"},buttons:{close:"닫기",remove:"삭제",apply:"적용"}}},Image:{buttons:{tooltip:"이미지"},window:{title:"이미지 추가",form:{sourceLink:"이미지 URL"},buttons:{close:"닫기",apply:"적용"}}}}},zh:Vt,zhHans:Vt,fa:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"نقل قول"}}},Bold:{buttons:{bold:{tooltip:"درشت"}}},BulletList:{buttons:{bulletList:{tooltip:"لیست بولت"}}},Code:{buttons:{code:{tooltip:"کد"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"بلوک کد"}}},History:{buttons:{undo:{tooltip:"بازگشت"},redo:{tooltip:"مجدد"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"خط افقی"}}},Italic:{buttons:{italic:{tooltip:"ایتالیک"}}},OrderedList:{buttons:{orderedList:{tooltip:"لیست مرتب شده"}}},Paragraph:{buttons:{paragraph:{tooltip:"پاراگراف"}}},Strike:{buttons:{strike:{tooltip:"خط زدن"}}},Underline:{buttons:{underline:{tooltip:"خط زیرین"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>t+" سطح هدر"}}},Link:{buttons:{isActive:{tooltip:"عوض کردن لینک"},notActive:{tooltip:"اضافه لینک"}},window:{title:"کنترل لینک",form:{hrefLabel:"لینک"},buttons:{close:"بستن",remove:"حذف",apply:"اعمال"}}},Image:{buttons:{tooltip:"عکس"},window:{title:"اضافه عکس",or:"OR",form:{sourceLink:"لینک عکس"},buttons:{close:"بستن",apply:"اعمال"}}},TodoList:{buttons:{todoList:{tooltip:"لیست کارها"}}}}},sv:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Blockcitat"}}},Bold:{buttons:{bold:{tooltip:"Fet"}}},BulletList:{buttons:{bulletList:{tooltip:"Punktlista"}}},Code:{buttons:{code:{tooltip:"Kod"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Kodblock"}}},History:{buttons:{undo:{tooltip:"Ångra"},redo:{tooltip:"Gör om"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Horisontell linje"}}},Italic:{buttons:{italic:{tooltip:"Kursiv"}}},OrderedList:{buttons:{orderedList:{tooltip:"Nummerlista"}}},Paragraph:{buttons:{paragraph:{tooltip:"Stycke"}}},Strike:{buttons:{strike:{tooltip:"Genomstruken"}}},Underline:{buttons:{underline:{tooltip:"Understruken"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>"Rubriknivå "+t}}},Link:{buttons:{isActive:{tooltip:"Ändra länk"},notActive:{tooltip:"Lägg till länk"}},window:{title:"Länkinställningar",form:{hrefLabel:"Href"},buttons:{close:"Stäng",remove:"Ta bort",apply:"Applicera"}}},Image:{buttons:{tooltip:"Bild"},window:{title:"Lägg till bild",or:"ELLER",form:{sourceLink:"Bild-URL"},buttons:{close:"Stäng",apply:"Applicera"}}},TodoList:{buttons:{todoList:{tooltip:"Att göra-lista"}}}}},cs:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Bloková citace"}}},Bold:{buttons:{bold:{tooltip:"Tučně"}}},BulletList:{buttons:{bulletList:{tooltip:"Bodový seznam"}}},Code:{buttons:{code:{tooltip:"Kód"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Blok kódu"}}},History:{buttons:{undo:{tooltip:"Zpět"},redo:{tooltip:"Vpřed"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Horizontální oddělovač"}}},Italic:{buttons:{italic:{tooltip:"Kurzíva"}}},OrderedList:{buttons:{orderedList:{tooltip:"Číslovaný seznam"}}},Paragraph:{buttons:{paragraph:{tooltip:"Odstavec"}}},Strike:{buttons:{strike:{tooltip:"Přeškrtnutě"}}},Underline:{buttons:{underline:{tooltip:"Podrženě"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>t+". úroveň nadpisu"}}},Link:{buttons:{isActive:{tooltip:"Změnit odkaz"},notActive:{tooltip:"Přidat odkaz"}},window:{title:"Správa odkazu",form:{hrefLabel:"Odkaz"},buttons:{close:"Zavřít",remove:"Odebrat",apply:"Použít"}}},Image:{buttons:{tooltip:"Obrázek"},window:{title:"Přidat obrázek",form:{sourceLink:"Adresa obrázku",altText:"Alternativní text",addImage:"Přidat obrázek"},imageUpload:{instruction:"Vyberte soubor(y) nebo je(j) přetáhněte sem."},buttons:{close:"Zavřít",apply:"Použít"}}},TodoList:{buttons:{todoList:{tooltip:"Seznam TODO"}}}}},it:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Citazione"}}},Bold:{buttons:{bold:{tooltip:"Grassetto"}}},BulletList:{buttons:{bulletList:{tooltip:"Elenco puntato"}}},Code:{buttons:{code:{tooltip:"Codice"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Blocco codice"}}},History:{buttons:{undo:{tooltip:"Annulla"},redo:{tooltip:"Ripristina"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Linea orizzontale"}}},Italic:{buttons:{italic:{tooltip:"Corsivo"}}},OrderedList:{buttons:{orderedList:{tooltip:"Elenco numerato"}}},Paragraph:{buttons:{paragraph:{tooltip:"Paragrafo"}}},Strike:{buttons:{strike:{tooltip:"Barrato"}}},Underline:{buttons:{underline:{tooltip:"Sottolineato"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>t+" livello intestazione"}}},Link:{buttons:{isActive:{tooltip:"Modifica collegamento"},notActive:{tooltip:"Aggiungi collegamento"}},window:{title:"Gestione collegamento",form:{hrefLabel:"Indirizzo"},buttons:{close:"Chiudi",remove:"Rimuovi",apply:"Applica"}}},Image:{buttons:{tooltip:"Immagine"},window:{title:"Aggiungi Immagine",form:{sourceLink:"Indirizzo Immagine",altText:"Testo Alternativo",addImage:"Aggiungi Immagine"},imageUpload:{instruction:"Seleziona file o trascinalo(i) qui."},buttons:{close:"Chiudi",apply:"Applica"}}},TodoList:{buttons:{todoList:{tooltip:"Cose da fare"}}}}},el:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Παράθεση"}}},Bold:{buttons:{bold:{tooltip:"Έντονη γραφή"}}},BulletList:{buttons:{bulletList:{tooltip:"Λίστα με κουκκίδες"}}},Code:{buttons:{code:{tooltip:"Κώδικας"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Μπλοκ κώδικα"}}},History:{buttons:{undo:{tooltip:"Αναίρεση"},redo:{tooltip:"Ακύρωση αναίρεσης"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Οριζόντια γραμμή"}}},Italic:{buttons:{italic:{tooltip:"Πλάγια γραφή"}}},OrderedList:{buttons:{orderedList:{tooltip:"Λίστα με αρίθμηση"}}},Paragraph:{buttons:{paragraph:{tooltip:"Παράγραφος"}}},Strike:{buttons:{strike:{tooltip:"Επιγράμμιση"}}},Underline:{buttons:{underline:{tooltip:"Υπογράμμιση"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>t+" επίπεδο κεφαλίδας"}}},Link:{buttons:{isActive:{tooltip:"Αλλαγή συνδέσμου"},notActive:{tooltip:"Προσθήκη συνδέσμου"}},window:{title:"Διαχείριση συνδέσμου",form:{hrefLabel:"Διεύθυνση"},buttons:{close:"Κλείσιμο",remove:"Αφαίρεση",apply:"Εφαρμογή"}}},Image:{buttons:{tooltip:"Εικόνα"},window:{title:"Προσθήκη εικόνας",form:{sourceLink:"Διεύθυνση εικόνας",altText:"Εναλλακτικό κείμενο",addImage:"Προσθήκη εικόνας"},imageUpload:{instruction:"Επιλέξτε ένα αρχείο ή σύρετε το εδώ."},buttons:{close:"Κλείσιμο",apply:"Εφαρμογή"}}},TodoList:{buttons:{todoList:{tooltip:"Λίστα εκκρεμοτήτων"}}}}},sk:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Bloková citácia"}}},Bold:{buttons:{bold:{tooltip:"Tučné"}}},BulletList:{buttons:{bulletList:{tooltip:"Zoznam s odrážkami"}}},Code:{buttons:{code:{tooltip:"Kód"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Blok kódu"}}},History:{buttons:{undo:{tooltip:"Späť"},redo:{tooltip:"Znova"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Horizontálny oddeľovač"}}},Italic:{buttons:{italic:{tooltip:"Kurzíva"}}},OrderedList:{buttons:{orderedList:{tooltip:"Číslovaný zoznam"}}},Paragraph:{buttons:{paragraph:{tooltip:"Odstavec"}}},Strike:{buttons:{strike:{tooltip:"Preškrtnuté"}}},Underline:{buttons:{underline:{tooltip:"Podčiarknuté"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>t+". úroveň nadpisu"}}},Link:{buttons:{isActive:{tooltip:"Zmeniť odkaz"},notActive:{tooltip:"Pridať odkaz"}},window:{title:"Správa odkazu",form:{hrefLabel:"Odkaz"},buttons:{close:"Zavrieť",remove:"Odstrániť",apply:"Použiť"}}},Image:{buttons:{tooltip:"Obrázok"},window:{title:"Pridať obrázok",form:{sourceLink:"Adresa obrázka",altText:"Alternatívny text",addImage:"Pridať obrázok"},imageUpload:{instruction:"Vyberte súbor(y) alebo ho(ich) potiahnite sem."},buttons:{close:"Zavrieť",apply:"Použiť"}}},TodoList:{buttons:{todoList:{tooltip:"Zoznam TODO"}}}}},fi:{extensions:{Blockquote:{buttons:{blockquote:{tooltip:"Lainaus"}}},Bold:{buttons:{bold:{tooltip:"Lihavoitu"}}},BulletList:{buttons:{bulletList:{tooltip:"Luettelomerkitty luettelo"}}},Code:{buttons:{code:{tooltip:"Koodi"}}},CodeBlock:{buttons:{codeBlock:{tooltip:"Koodilohko"}}},History:{buttons:{undo:{tooltip:"Kumoa"},redo:{tooltip:"Tee uudelleen"}}},HorizontalRule:{buttons:{horizontalRule:{tooltip:"Vaakaviiva"}}},Italic:{buttons:{italic:{tooltip:"Kursivoitu"}}},OrderedList:{buttons:{orderedList:{tooltip:"Numeroitu luettelo"}}},Paragraph:{buttons:{paragraph:{tooltip:"Kappale"}}},Strike:{buttons:{strike:{tooltip:"Yliviivattu"}}},Underline:{buttons:{underline:{tooltip:"Alleviivattu"}}},Heading:{buttons:{heading:{tooltip:({level:t})=>"Otsikko "+t}}},Link:{buttons:{isActive:{tooltip:"Muokkaa linkkiä"},notActive:{tooltip:"Luo linkki"}},window:{title:"Linkin muokkaus",form:{hrefLabel:"URL"},buttons:{close:"Sulje",remove:"Poista",apply:"Käytä"}}},Image:{buttons:{tooltip:"Kuva"},window:{title:"Lisää kuva",form:{sourceLink:"Kuvan URL",altText:"Kuvateksti",addImage:"Lisää kuva"},imageUpload:{instruction:"Valitse teidosto(t) tai raahaa ne tähän laatikkoon."},buttons:{close:"Sulje",apply:"Käytä"}}},TodoList:{buttons:{todoList:{tooltip:"Tehtävälista"}}}}}};function qt(t,e,o=null){let n=o||Jr.vuetifyLang||jt;Ft[n]||(Lt.warn(`The current language "${n}" is not yet available. Using language "${jt}" by default. Contribution to github is welcome.`),n=jt);const i=Ft[n];let r;try{if(r=t.split(".").reduce(((t,e)=>t[e]),i),void 0===r)throw new Error(`${t} is undefined.`)}catch(o){return Lt.warn(`Cannot get translation "${t}" for language "${n}". Fallback "${jt}" is used instead. Contribution to github is welcome.`),qt(t,e,jt)}return r instanceof Function?r(e):r}const Ut="$i18n";let Jt=class extends t{get[Ut](){return{getMsg:qt}}};Jt=Z([st],Jt);var Wt=Jt,Kt="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,Zt=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(Kt&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Gt=Kt&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),Zt))}};function Xt(t){return t&&"[object Function]"==={}.toString.call(t)}function Yt(t,e){if(1!==t.nodeType)return[];var o=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?o[e]:o}function Qt(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function te(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=Yt(t),o=e.overflow,n=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(o+i+n)?t:te(Qt(t))}function ee(t){return t&&t.referenceNode?t.referenceNode:t}var oe=Kt&&!(!window.MSInputMethodContext||!document.documentMode),ne=Kt&&/MSIE 10/.test(navigator.userAgent);function ie(t){return 11===t?oe:10===t?ne:oe||ne}function re(t){if(!t)return document.documentElement;for(var e=ie(10)?document.body:null,o=t.offsetParent||null;o===e&&t.nextElementSibling;)o=(t=t.nextElementSibling).offsetParent;var n=o&&o.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(o.nodeName)&&"static"===Yt(o,"position")?re(o):o:t?t.ownerDocument.documentElement:document.documentElement}function se(t){return null!==t.parentNode?se(t.parentNode):t}function ae(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var o=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=o?t:e,i=o?e:t,r=document.createRange();r.setStart(n,0),r.setEnd(i,0);var s,a,l=r.commonAncestorContainer;if(t!==l&&e!==l||n.contains(i))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&re(s.firstElementChild)!==s?re(l):l;var p=se(t);return p.host?ae(p.host,e):ae(t,se(e).host)}function le(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",o=t.nodeName;if("BODY"===o||"HTML"===o){var n=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||n)[e]}return t[e]}function pe(t,e){var o="x"===e?"Left":"Top",n="Left"===o?"Right":"Bottom";return parseFloat(t["border"+o+"Width"])+parseFloat(t["border"+n+"Width"])}function ue(t,e,o,n){return Math.max(e["offset"+t],e["scroll"+t],o["client"+t],o["offset"+t],o["scroll"+t],ie(10)?parseInt(o["offset"+t])+parseInt(n["margin"+("Height"===t?"Top":"Left")])+parseInt(n["margin"+("Height"===t?"Bottom":"Right")]):0)}function ce(t){var e=t.body,o=t.documentElement,n=ie(10)&&getComputedStyle(o);return{height:ue("Height",e,o,n),width:ue("Width",e,o,n)}}var de=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),fe=function(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t},he=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};function me(t){return he({},t,{right:t.left+t.width,bottom:t.top+t.height})}function ve(t){var e={};try{if(ie(10)){e=t.getBoundingClientRect();var o=le(t,"top"),n=le(t,"left");e.top+=o,e.left+=n,e.bottom+=o,e.right+=n}else e=t.getBoundingClientRect()}catch(t){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?ce(t.ownerDocument):{},s=r.width||t.clientWidth||i.width,a=r.height||t.clientHeight||i.height,l=t.offsetWidth-s,p=t.offsetHeight-a;if(l||p){var u=Yt(t);l-=pe(u,"x"),p-=pe(u,"y"),i.width-=l,i.height-=p}return me(i)}function ge(t,e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=ie(10),i="HTML"===e.nodeName,r=ve(t),s=ve(e),a=te(t),l=Yt(e),p=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);o&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var c=me({top:r.top-s.top-p,left:r.left-s.left-u,width:r.width,height:r.height});if(c.marginTop=0,c.marginLeft=0,!n&&i){var d=parseFloat(l.marginTop),f=parseFloat(l.marginLeft);c.top-=p-d,c.bottom-=p-d,c.left-=u-f,c.right-=u-f,c.marginTop=d,c.marginLeft=f}return(n&&!o?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(c=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=le(e,"top"),i=le(e,"left"),r=o?-1:1;return t.top+=n*r,t.bottom+=n*r,t.left+=i*r,t.right+=i*r,t}(c,e)),c}function be(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===Yt(t,"position"))return!0;var o=Qt(t);return!!o&&be(o)}function ye(t){if(!t||!t.parentElement||ie())return document.documentElement;for(var e=t.parentElement;e&&"none"===Yt(e,"transform");)e=e.parentElement;return e||document.documentElement}function we(t,e,o,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},s=i?ye(t):ae(t,ee(e));if("viewport"===n)r=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t.ownerDocument.documentElement,n=ge(t,o),i=Math.max(o.clientWidth,window.innerWidth||0),r=Math.max(o.clientHeight,window.innerHeight||0),s=e?0:le(o),a=e?0:le(o,"left");return me({top:s-n.top+n.marginTop,left:a-n.left+n.marginLeft,width:i,height:r})}(s,i);else{var a=void 0;"scrollParent"===n?"BODY"===(a=te(Qt(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===n?t.ownerDocument.documentElement:n;var l=ge(a,s,i);if("HTML"!==a.nodeName||be(s))r=l;else{var p=ce(t.ownerDocument),u=p.height,c=p.width;r.top+=l.top-l.marginTop,r.bottom=u+l.top,r.left+=l.left-l.marginLeft,r.right=c+l.left}}var d="number"==typeof(o=o||0);return r.left+=d?o:o.left||0,r.top+=d?o:o.top||0,r.right-=d?o:o.right||0,r.bottom-=d?o:o.bottom||0,r}function ke(t,e,o,n,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=we(o,n,r,i),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map((function(t){return he({key:t},a[t],{area:(e=a[t],e.width*e.height)});var e})).sort((function(t,e){return e.area-t.area})),p=l.filter((function(t){var e=t.width,n=t.height;return e>=o.clientWidth&&n>=o.clientHeight})),u=p.length>0?p[0].key:l[0].key,c=t.split("-")[1];return u+(c?"-"+c:"")}function xe(t,e,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ge(o,n?ye(e):ae(e,ee(o)),n)}function Se(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),o=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),n=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+n,height:t.offsetHeight+o}}function Oe(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function Le(t,e,o){o=o.split("-")[0];var n=Se(t),i={width:n.width,height:n.height},r=-1!==["right","left"].indexOf(o),s=r?"top":"left",a=r?"left":"top",l=r?"height":"width",p=r?"width":"height";return i[s]=e[s]+e[l]/2-n[l]/2,i[a]=o===a?e[a]-n[p]:e[Oe(a)],i}function Ae(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function Ce(t,e,o){return(void 0===o?t:t.slice(0,function(t,e,o){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===o}));var n=Ae(t,(function(t){return t[e]===o}));return t.indexOf(n)}(t,"name",o))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var o=t.function||t.fn;t.enabled&&Xt(o)&&(e.offsets.popper=me(e.offsets.popper),e.offsets.reference=me(e.offsets.reference),e=o(e,t))})),e}function Ee(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=xe(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=ke(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=Le(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=Ce(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function Te(t,e){return t.some((function(t){var o=t.name;return t.enabled&&o===e}))}function Re(t){for(var e=[!1,"ms","Webkit","Moz","O"],o=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var i=e[n],r=i?""+i+o:t;if(void 0!==document.body.style[r])return r}return null}function Ie(){return this.state.isDestroyed=!0,Te(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Re("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Me(t){var e=t.ownerDocument;return e?e.defaultView:window}function Be(t,e,o,n){var i="BODY"===t.nodeName,r=i?t.ownerDocument.defaultView:t;r.addEventListener(e,o,{passive:!0}),i||Be(te(r.parentNode),e,o,n),n.push(r)}function _e(t,e,o,n){o.updateBound=n,Me(t).addEventListener("resize",o.updateBound,{passive:!0});var i=te(t);return Be(i,"scroll",o.updateBound,o.scrollParents),o.scrollElement=i,o.eventsEnabled=!0,o}function Ne(){this.state.eventsEnabled||(this.state=_e(this.reference,this.options,this.state,this.scheduleUpdate))}function Pe(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,Me(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function He(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function ze(t,e){Object.keys(e).forEach((function(o){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(o)&&He(e[o])&&(n="px"),t.style[o]=e[o]+n}))}var De=Kt&&/Firefox/i.test(navigator.userAgent);function $e(t,e,o){var n=Ae(t,(function(t){return t.name===e})),i=!!n&&t.some((function(t){return t.name===o&&t.enabled&&t.order<n.order}));if(!i){var r="`"+e+"`",s="`"+o+"`";console.warn(s+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return i}var Ve=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],je=Ve.slice(3);function Fe(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=je.indexOf(t),n=je.slice(o+1).concat(je.slice(0,o));return e?n.reverse():n}var qe="flip",Ue="clockwise",Je="counterclockwise";function We(t,e,o,n){var i=[0,0],r=-1!==["right","left"].indexOf(n),s=t.split(/(\+|\-)/).map((function(t){return t.trim()})),a=s.indexOf(Ae(s,(function(t){return-1!==t.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,p=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return p=p.map((function(t,n){var i=(1===n?!r:r)?"height":"width",s=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,o,n){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+i[1],s=i[2];if(!r)return t;if(0===s.indexOf("%")){return me("%p"===s?o:n)[e]/100*r}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r;return r}(t,i,e,o)}))})),p.forEach((function(t,e){t.forEach((function(o,n){He(o)&&(i[e]+=o*("-"===t[n-1]?-1:1))}))})),i}var Ke={shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,o=e.split("-")[0],n=e.split("-")[1];if(n){var i=t.offsets,r=i.reference,s=i.popper,a=-1!==["bottom","top"].indexOf(o),l=a?"left":"top",p=a?"width":"height",u={start:fe({},l,r[l]),end:fe({},l,r[l]+r[p]-s[p])};t.offsets.popper=he({},s,u[n])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var o=e.offset,n=t.placement,i=t.offsets,r=i.popper,s=i.reference,a=n.split("-")[0],l=void 0;return l=He(+o)?[+o,0]:We(o,r,s,a),"left"===a?(r.top+=l[0],r.left-=l[1]):"right"===a?(r.top+=l[0],r.left+=l[1]):"top"===a?(r.left+=l[0],r.top-=l[1]):"bottom"===a&&(r.left+=l[0],r.top+=l[1]),t.popper=r,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var o=e.boundariesElement||re(t.instance.popper);t.instance.reference===o&&(o=re(o));var n=Re("transform"),i=t.instance.popper.style,r=i.top,s=i.left,a=i[n];i.top="",i.left="",i[n]="";var l=we(t.instance.popper,t.instance.reference,e.padding,o,t.positionFixed);i.top=r,i.left=s,i[n]=a,e.boundaries=l;var p=e.priority,u=t.offsets.popper,c={primary:function(t){var o=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(o=Math.max(u[t],l[t])),fe({},t,o)},secondary:function(t){var o="right"===t?"left":"top",n=u[o];return u[t]>l[t]&&!e.escapeWithReference&&(n=Math.min(u[o],l[t]-("right"===t?u.width:u.height))),fe({},o,n)}};return p.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=he({},u,c[e](t))})),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,o=e.popper,n=e.reference,i=t.placement.split("-")[0],r=Math.floor,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",l=s?"left":"top",p=s?"width":"height";return o[a]<r(n[l])&&(t.offsets.popper[l]=r(n[l])-o[p]),o[l]>r(n[a])&&(t.offsets.popper[l]=r(n[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var o;if(!$e(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],r=t.offsets,s=r.popper,a=r.reference,l=-1!==["left","right"].indexOf(i),p=l?"height":"width",u=l?"Top":"Left",c=u.toLowerCase(),d=l?"left":"top",f=l?"bottom":"right",h=Se(n)[p];a[f]-h<s[c]&&(t.offsets.popper[c]-=s[c]-(a[f]-h)),a[c]+h>s[f]&&(t.offsets.popper[c]+=a[c]+h-s[f]),t.offsets.popper=me(t.offsets.popper);var m=a[c]+a[p]/2-h/2,v=Yt(t.instance.popper),g=parseFloat(v["margin"+u]),b=parseFloat(v["border"+u+"Width"]),y=m-t.offsets.popper[c]-g-b;return y=Math.max(Math.min(s[p]-h,y),0),t.arrowElement=n,t.offsets.arrow=(fe(o={},c,Math.round(y)),fe(o,d,""),o),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(Te(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var o=we(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),n=t.placement.split("-")[0],i=Oe(n),r=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case qe:s=[n,i];break;case Ue:s=Fe(n);break;case Je:s=Fe(n,!0);break;default:s=e.behavior}return s.forEach((function(a,l){if(n!==a||s.length===l+1)return t;n=t.placement.split("-")[0],i=Oe(n);var p=t.offsets.popper,u=t.offsets.reference,c=Math.floor,d="left"===n&&c(p.right)>c(u.left)||"right"===n&&c(p.left)<c(u.right)||"top"===n&&c(p.bottom)>c(u.top)||"bottom"===n&&c(p.top)<c(u.bottom),f=c(p.left)<c(o.left),h=c(p.right)>c(o.right),m=c(p.top)<c(o.top),v=c(p.bottom)>c(o.bottom),g="left"===n&&f||"right"===n&&h||"top"===n&&m||"bottom"===n&&v,b=-1!==["top","bottom"].indexOf(n),y=!!e.flipVariations&&(b&&"start"===r&&f||b&&"end"===r&&h||!b&&"start"===r&&m||!b&&"end"===r&&v),w=!!e.flipVariationsByContent&&(b&&"start"===r&&h||b&&"end"===r&&f||!b&&"start"===r&&v||!b&&"end"===r&&m),k=y||w;(d||g||k)&&(t.flipped=!0,(d||g)&&(n=s[l+1]),k&&(r=function(t){return"end"===t?"start":"start"===t?"end":t}(r)),t.placement=n+(r?"-"+r:""),t.offsets.popper=he({},t.offsets.popper,Le(t.instance.popper,t.offsets.reference,t.placement)),t=Ce(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,o=e.split("-")[0],n=t.offsets,i=n.popper,r=n.reference,s=-1!==["left","right"].indexOf(o),a=-1===["top","left"].indexOf(o);return i[s?"left":"top"]=r[o]-(a?i[s?"width":"height"]:0),t.placement=Oe(e),t.offsets.popper=me(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!$e(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,o=Ae(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<o.top||e.left>o.right||e.top>o.bottom||e.right<o.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var o=e.x,n=e.y,i=t.offsets.popper,r=Ae(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==r?r:e.gpuAcceleration,a=re(t.instance.popper),l=ve(a),p={position:i.position},u=function(t,e){var o=t.offsets,n=o.popper,i=o.reference,r=Math.round,s=Math.floor,a=function(t){return t},l=r(i.width),p=r(n.width),u=-1!==["left","right"].indexOf(t.placement),c=-1!==t.placement.indexOf("-"),d=e?u||c||l%2==p%2?r:s:a,f=e?r:a;return{left:d(l%2==1&&p%2==1&&!c&&e?n.left-1:n.left),top:f(n.top),bottom:f(n.bottom),right:d(n.right)}}(t,window.devicePixelRatio<2||!De),c="bottom"===o?"top":"bottom",d="right"===n?"left":"right",f=Re("transform"),h=void 0,m=void 0;if(m="bottom"===c?"HTML"===a.nodeName?-a.clientHeight+u.bottom:-l.height+u.bottom:u.top,h="right"===d?"HTML"===a.nodeName?-a.clientWidth+u.right:-l.width+u.right:u.left,s&&f)p[f]="translate3d("+h+"px, "+m+"px, 0)",p[c]=0,p[d]=0,p.willChange="transform";else{var v="bottom"===c?-1:1,g="right"===d?-1:1;p[c]=m*v,p[d]=h*g,p.willChange=c+", "+d}var b={"x-placement":t.placement};return t.attributes=he({},b,t.attributes),t.styles=he({},p,t.styles),t.arrowStyles=he({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,o;return ze(t.instance.popper,t.styles),e=t.instance.popper,o=t.attributes,Object.keys(o).forEach((function(t){!1!==o[t]?e.setAttribute(t,o[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&ze(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,o,n,i){var r=xe(i,e,t,o.positionFixed),s=ke(o.placement,r,e,t,o.modifiers.flip.boundariesElement,o.modifiers.flip.padding);return e.setAttribute("x-placement",s),ze(e,{position:o.positionFixed?"fixed":"absolute"}),o},gpuAcceleration:void 0}},Ze={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Ke},Ge=function(){function t(e,o){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=Gt(this.update.bind(this)),this.options=he({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=o&&o.jquery?o[0]:o,this.options.modifiers={},Object.keys(he({},t.Defaults.modifiers,i.modifiers)).forEach((function(e){n.options.modifiers[e]=he({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return he({name:t},n.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&Xt(t.onLoad)&&t.onLoad(n.reference,n.popper,n.options,t,n.state)})),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return de(t,[{key:"update",value:function(){return Ee.call(this)}},{key:"destroy",value:function(){return Ie.call(this)}},{key:"enableEventListeners",value:function(){return Ne.call(this)}},{key:"disableEventListeners",value:function(){return Pe.call(this)}}]),t}();Ge.Utils=("undefined"!=typeof window?window:global).PopperUtils,Ge.placements=Ve,Ge.Defaults=Ze;let Xe=class extends(ot(Wt)){mounted(){const t=this;class e{constructor(){var e;this.range=null,this.rect=null,this.timeoutMousemove=null,this.updateRect();const o=(t,e)=>{let o=document.getSelection();this.range=o&&o.rangeCount&&o.getRangeAt(0),this.updateRect(e)},n=null===(e=t.$el.parentElement)||void 0===e?void 0:e.querySelector(".ProseMirror");n.addEventListener("mouseup",o),n.addEventListener("input",o),n.addEventListener("keydown",(t=>o(0,!0)));n.addEventListener("mousemove",function(t,e){let o=!1;return function(){o||(t.apply(this,arguments),o=!0,setTimeout((()=>o=!1),e))}}((function(){o()}),100)),window.addEventListener("scroll",o),document.scrollingElement.addEventListener("scroll",o)}updateRect(t=!1){!t&&this.range?this.rect=this.range.getBoundingClientRect():this.rect={top:0,left:0,right:0,bottom:0,width:0,height:0},this.rectChangedCallback(this.rect)}rectChangedCallback(t){}getBoundingClientRect(){return this.rect}get clientWidth(){return this.rect.width}get clientHeight(){return this.rect.height}}setTimeout((()=>{const t=this.$el,o=new e,n=new Ge(o,t,{placement:"top",modifiers:{offset:{offset:"0,5"}},positionFixed:!0});o.rectChangedCallback=({width:e})=>{e>0?(n.scheduleUpdate(),t.firstElementChild.classList.add("tiptap-vuetify-editor-pop__popper--visible")):t.firstElementChild.classList.remove("tiptap-vuetify-editor-pop__popper--visible")}}),1e3)}};Z([lt({type:Object,required:!0}),G("design:type",e)],Xe.prototype,"editor",void 0),Z([lt({type:Array,default:()=>[]}),G("design:type",Array)],Xe.prototype,"actions",void 0),Xe=Z([st({components:{ActionsRender:zt,EditorMenuBubble:n,VCard:c}})],Xe);var Ye,Qe,to,eo,oo,no,io,ro,so,ao,lo,po,uo,co=Et({render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("editor-menu-bubble",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){return[o("div",{staticClass:"tiptap-vuetify-editor-pop",attrs:{role:"tooltip"}},[o("div",{staticClass:"tiptap-vuetify-editor-pop__popper"},[o("actions-render",{attrs:{actions:t.actions,context:e,editor:t.editor,dark:!0}}),t._v(" "),o("div",{attrs:{"x-arrow":""}})],1)])]}}])})},staticRenderFns:[]},undefined,Xe,undefined,!1,undefined,void 0,void 0);!function(t){t.toolbar="toolbar",t.bubbleMenu="bubbleMenu"}(Ye||(Ye={}));let fo=class extends t{constructor(){super(...arguments),this.PROPS=bt,this.EDITOR_TYPES_ENUM=yt,this.editor=null,this.availableActions={toolbar:[],bubbleMenu:[]},this.emitAfterOnUpdate=!1}get contentDynamicStyles(){const t=t=>{if(!t)return t;const e=parseInt(t,10),o=t.slice(e.toString().length);return e+(o||"px")};return{minHeight:t(this[bt.MIN_HEIGHT]),maxHeight:t(this[bt.MAX_HEIGHT])}}onDisabledChange(t){this.editor&&this.editor.setOptions({editable:!t})}onValueChange(t){this.emitAfterOnUpdate?this.emitAfterOnUpdate=!1:this.editor&&this.editor.setContent(t)}mounted(){const t=[],o=[],n={renderIn:Ye.toolbar,options:{}};this[bt.EXTENSIONS].forEach((e=>{let i,r;if(Array.isArray(e))[i,r]=e;else{if(!e.prototype.availableActions)throw new Error('Incorrect extension declaration passed to "extensions" prop (array). It looks like the array\'s element is in the wrong format.');i=e}const s={...n,...r},a=new i(s.options);this.availableActions[s.renderIn].push(...a.availableActions),a.nativeExtensionInstance&&t.push(a.nativeExtensionInstance),o.push(a)}));const i=[...this[bt.NATIVE_EXTENSIONS],...t];this[bt.PLACEHOLDER]&&i.push(new C({emptyNodeClass:"tiptap-vuetify-editor__paragraph--is-empty",emptyNodeText:this[bt.PLACEHOLDER],showOnlyWhenEditable:!0})),this.editor=new e({editable:!this[bt.DISABLED],extensions:i,...this[bt.EDITOR_PROPERTIES],editorProps:{...this[bt.EDITOR_PROPERTIES].editorProps,handleKeyDown:(t,e)=>{this[bt.EDITOR_PROPERTIES].editorProps&&this[bt.EDITOR_PROPERTIES].editorProps.handleKeyDown&&this[bt.EDITOR_PROPERTIES].editorProps.handleKeyDown(t,e),this.$emit("keydown",e,t)}},content:this[bt.VALUE],onUpdate:this.onUpdate.bind(this),onBlur:this.onBlur.bind(this),onFocus:this.onFocus.bind(this)}),this.$emit(mt,{editor:this.editor}),o.forEach((t=>t.onEditorInit&&t.onEditorInit(this.editor)))}onUpdate(t){let e;this.emitAfterOnUpdate=!0,e="html"===this[bt.OUTPUT_FORMAT]?t.getHTML():t.getJSON(),this.$emit(ht,e,t)}onBlur({event:t,view:e}){this.$emit(vt,t,e)}onFocus({event:t,view:e}){this.$emit(gt,t,e)}beforeDestroy(){this.editor&&this.editor.destroy()}};Qe=bt.DISABLED,to=bt.VALUE,eo=bt.EXTENSIONS,oo=bt.PLACEHOLDER,no=bt.CARD_PROPS,io=bt.OUTPUT_FORMAT,ro=bt.TOOLBAR_ATTRIBUTES,so=bt.EDITOR_PROPERTIES,ao=bt.NATIVE_EXTENSIONS,lo=bt.TYPE,po=bt.MIN_HEIGHT,uo=bt.MAX_HEIGHT,Z([lt({type:Boolean,default:!1}),G("design:type",Boolean)],fo.prototype,Qe,void 0),Z([lt({type:[String,Object],default:""}),G("design:type",String)],fo.prototype,to,void 0),Z([lt({type:Array,default:()=>[]}),G("design:type",Array)],fo.prototype,eo,void 0),Z([lt({type:String}),G("design:type",String)],fo.prototype,oo,void 0),Z([lt({type:Object,default:()=>({})}),G("design:type",Object)],fo.prototype,no,void 0),Z([lt({type:String,default:"html"}),G("design:type",String)],fo.prototype,io,void 0),Z([lt({type:[Array,Object],default:()=>({})}),G("design:type",Object)],fo.prototype,ro,void 0),Z([lt({type:Object,default:()=>({})}),G("design:type",Object)],fo.prototype,so,void 0),Z([lt({type:Array,default:()=>[]}),G("design:type",Array)],fo.prototype,ao,void 0),Z([lt({type:String,default:yt.card}),G("design:type",String)],fo.prototype,lo,void 0),Z([lt({type:[String,Number]}),G("design:type",Object)],fo.prototype,po,void 0),Z([lt({type:[String,Number]}),G("design:type",Object)],fo.prototype,uo,void 0),Z([pt("disabled"),G("design:type",Function),G("design:paramtypes",[Object]),G("design:returntype",void 0)],fo.prototype,"onDisabledChange",null),Z([pt("value"),G("design:type",Function),G("design:paramtypes",[Object]),G("design:returntype",void 0)],fo.prototype,"onValueChange",null),fo=Z([st({components:{Bubble:co,EditorContent:i,Toolbar:$t,VCard:c}})],fo);var ho=Et({render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.editor?o("div",{staticClass:"tiptap-vuetify-editor",class:{"tiptap-vuetify-editor--disabled":t.$props[t.PROPS.DISABLED]}},[t.availableActions.bubbleMenu.length&&t.editor.options.editable?o("bubble",{attrs:{editor:t.editor,actions:t.availableActions.bubbleMenu}}):t._e(),t._v(" "),t.$props[t.PROPS.TYPE]===t.EDITOR_TYPES_ENUM.card?o("VCard",t._b({},"VCard",t.$props[t.PROPS.CARD_PROPS],!1),[t._t("toolbar-before"),t._v(" "),t.availableActions.toolbar.length?o("toolbar",{attrs:{editor:t.editor,actions:t.availableActions.toolbar,"toolbar-attributes":t.$props[t.PROPS.TOOLBAR_ATTRIBUTES],disabled:t.$props[t.PROPS.DISABLED]},scopedSlots:t._u([t.$scopedSlots.toolbar?{key:"default",fn:function(e){return[t._t("toolbar",null,null,e)]}}:null],null,!0)}):t._e(),t._v(" "),t._t("toolbar-after"),t._v(" "),o("editor-content",{staticClass:"tiptap-vuetify-editor__content",class:{"tiptap-vuetify-editor__content--disabled":t.$props[t.PROPS.DISABLED]},style:t.contentDynamicStyles,attrs:{editor:t.editor}}),t._v(" "),t._t("footer")],2):t._e()],1):t._e()},staticRenderFns:[]},undefined,fo,undefined,!1,undefined,void 0,void 0),mo={defaultIconsGroup:"md"};const vo={close:{md:new dt("close"),fa:new dt("fas fa-times"),mdi:new dt("mdi-close"),mdiSvg:new dt("M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z")}};class go{constructor(t,e){this.text=qt(t,e)}toString(){return this.text}}class bo{constructor(t,e){this.options=t,this.extensionClass=e,this.nativeExtensionInstance=null,e&&(this.nativeExtensionInstance=new e(t))}}class yo extends bo{constructor(t){super(t,E)}get availableActions(){return this.options.levels.map((t=>({render:new Nt({tooltip:new go("extensions.Heading.buttons.heading.tooltip",{level:t}),icons:{md:new ct("H"+t),fa:new ct("H"+t),mdi:new ct("H"+t),mdiSvg:new ct("H"+t)},nativeExtensionName:"heading",onClickOptions:{level:t},isActiveOptions:{level:t}})})))}}class wo extends bo{constructor(t){super(t,T)}get availableActions(){return[{render:new Nt({tooltip:new go("extensions.Bold.buttons.bold.tooltip"),icons:{md:new dt("format_bold"),fa:new dt("fas fa-bold"),mdi:new dt("mdi-format-bold"),mdiSvg:new dt("M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z")},nativeExtensionName:"bold"})}]}}class ko extends bo{constructor(t){super(t,R)}get availableActions(){return[{render:new Nt({tooltip:new go("extensions.Italic.buttons.italic.tooltip"),icons:{md:new dt("format_italic"),fa:new dt("fas fa-italic"),mdi:new dt("mdi-format-italic"),mdiSvg:new dt("M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z")},nativeExtensionName:"italic"})}]}}class xo extends bo{constructor(t){super(t,I)}get availableActions(){return[{render:new Nt({tooltip:new go("extensions.Strike.buttons.strike.tooltip"),icons:{md:new dt("format_strikethrough"),fa:new dt("fas fa-strikethrough"),mdi:new dt("mdi-format-strikethrough"),mdiSvg:new dt("M3,14H21V12H3M5,4V7H10V10H14V7H19V4M10,19H14V16H10V19Z")},nativeExtensionName:"strike"})}]}}class So extends bo{constructor(t){super(t,M)}get availableActions(){return[{render:new Nt({tooltip:new go("extensions.Underline.buttons.underline.tooltip"),icons:{md:new dt("format_underline"),fa:new dt("fas fa-underline"),mdi:new dt("mdi-format-underline"),mdiSvg:new dt("M5,21H19V19H5V21M12,17A6,6 0 0,0 18,11V3H15.5V11A3.5,3.5 0 0,1 12,14.5A3.5,3.5 0 0,1 8.5,11V3H6V11A6,6 0 0,0 12,17Z")},nativeExtensionName:"underline"})}]}}class Oo extends bo{constructor(t){super(t,B)}get availableActions(){return[{render:new Nt({tooltip:new go("extensions.Code.buttons.code.tooltip"),icons:{md:new dt("code"),fa:new dt("fas fa-code"),mdi:new dt("mdi-code-tags"),mdiSvg:new dt("M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z")},nativeExtensionName:"code"})}]}}class Lo extends bo{constructor(t){super(t,_)}get availableActions(){return[{render:new Nt({tooltip:new go("extensions.CodeBlock.buttons.codeBlock.tooltip"),icons:{md:new dt("code"),fa:new dt("fas fa-code"),mdi:new dt("mdi-code-tags"),mdiSvg:new dt("M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z")},nativeExtensionName:"code_block"})}]}}class Ao extends bo{constructor(t){super(t,null)}get availableActions(){return[{render:new Nt({tooltip:new go("extensions.Paragraph.buttons.paragraph.tooltip"),icons:{md:new dt("format_textdirection_l_to_r"),fa:new dt("fas fa-paragraph"),mdi:new dt("mdi-format-paragraph"),mdiSvg:new dt("M13,4A4,4 0 0,1 17,8A4,4 0 0,1 13,12H11V18H9V4H13M13,10A2,2 0 0,0 15,8A2,2 0 0,0 13,6H11V10H13Z")},nativeExtensionName:"paragraph"})}]}}class Co extends bo{constructor(t){super(t,N)}get availableActions(){return[{render:new Nt({tooltip:new go("extensions.BulletList.buttons.bulletList.tooltip"),icons:{md:new dt("format_list_bulleted"),fa:new dt("fas fa-list-ul"),mdi:new dt("mdi-format-list-bulleted"),mdiSvg:new dt("M7,5H21V7H7V5M7,13V11H21V13H7M4,4.5A1.5,1.5 0 0,1 5.5,6A1.5,1.5 0 0,1 4,7.5A1.5,1.5 0 0,1 2.5,6A1.5,1.5 0 0,1 4,4.5M4,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,13.5A1.5,1.5 0 0,1 2.5,12A1.5,1.5 0 0,1 4,10.5M7,19V17H21V19H7M4,16.5A1.5,1.5 0 0,1 5.5,18A1.5,1.5 0 0,1 4,19.5A1.5,1.5 0 0,1 2.5,18A1.5,1.5 0 0,1 4,16.5Z")},nativeExtensionName:"bullet_list"})}]}}class Eo extends bo{constructor(t){super(t,P)}get availableActions(){return[{render:new Nt({tooltip:new go("extensions.OrderedList.buttons.orderedList.tooltip"),icons:{md:new dt("format_list_numbered"),fa:new dt("fas fa-list-ol"),mdi:new dt("mdi-format-list-numbered"),mdiSvg:new dt("M7,13V11H21V13H7M7,19V17H21V19H7M7,7V5H21V7H7M3,8V5H2V4H4V8H3M2,17V16H5V20H2V19H4V18.5H3V17.5H4V17H2M4.25,10A0.75,0.75 0 0,1 5,10.75C5,10.95 4.92,11.14 4.79,11.27L3.12,13H5V14H2V13.08L4,11H2V10H4.25Z")},nativeExtensionName:"ordered_list"})}]}}class To extends bo{constructor(t){super(t,H)}get availableActions(){return[]}}class Ro extends bo{constructor(t){super(t,z)}get availableActions(){return[{render:new Nt({tooltip:new go("extensions.Blockquote.buttons.blockquote.tooltip"),icons:{md:new dt("format_quote"),fa:new dt("fas fa-quote-right"),mdi:new dt("mdi-format-quote-close"),mdiSvg:new dt("M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z")},nativeExtensionName:"blockquote"})}]}}class Io extends bo{constructor(t){super(t,D)}get availableActions(){return[]}}class Mo extends bo{constructor(t){super(t,$)}get availableActions(){return[{render:new Nt({tooltip:new go("extensions.HorizontalRule.buttons.horizontalRule.tooltip"),icons:{md:new ct("—"),fa:new dt("fas fa-minus"),mdi:new dt("mdi-minus"),mdiSvg:new dt("M19,13H5V11H19V13Z")},nativeExtensionName:"horizontal_rule"})}]}}class Bo extends bo{constructor(t){super(t,V)}get availableActions(){return this.options&&this.options.noActions?[]:[{render:new Nt({tooltip:new go("extensions.History.buttons.undo.tooltip"),icons:{md:new dt("undo"),fa:new dt("fas fa-undo"),mdi:new dt("mdi-undo"),mdiSvg:new dt("M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z")},nativeExtensionName:"undo"})},{render:new Nt({tooltip:new go("extensions.History.buttons.redo.tooltip"),icons:{md:new dt("redo"),fa:new dt("fas fa-redo"),mdi:new dt("mdi-redo"),mdiSvg:new dt("M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.54,15.22L3.9,16C4.95,12.81 7.95,10.5 11.5,10.5C13.45,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z")},nativeExtensionName:"redo"})}]}}var _o,No,Po,Ho,zo;const Do="value",$o="context",Vo="editor",jo="nativeExtensionName",Fo="href";let qo=class extends(ot(Wt)){constructor(){super(...arguments),this.COMMON_ICONS=vo,this.form={href:this[Fo],blank:!1}}get isRemove(){return this[Fo]&&!this.form.href}get isDisabled(){return this[Fo]===this.form.href||!this[Fo]&&!this.form.href}apply(){let t=this.form.href;t&&t.length&&!/^((?:f|ht)tps?:)?\/\//.test(t)&&(t="http://"+t),this[$o].commands[this[jo]]({href:t}),this.close(),this[Vo].focus()}close(){this.$destroy(),this.$el.parentNode.removeChild(this.$el)}};_o=Do,No=jo,Po=$o,Ho=Vo,zo=Fo,Z([lt({type:Boolean,default:!1}),G("design:type",Boolean)],qo.prototype,_o,void 0),Z([lt({type:String,required:!0}),G("design:type",String)],qo.prototype,No,void 0),Z([lt({type:Object,required:!0}),G("design:type",Object)],qo.prototype,Po,void 0),Z([lt({type:Object,required:!0}),G("design:type",Object)],qo.prototype,Ho,void 0),Z([lt({type:String}),G("design:type",Object)],qo.prototype,zo,void 0),qo=Z([st({components:{VDialog:d,VCard:c,VCardTitle:f,VCardText:h,VCardActions:m,VBtn:l,VSpacer:v,VIcon:p,VTextField:g}})],qo);var Uo=Et({render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{value:t.value,"max-width":"500px",width:"100%"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[t._v("\n        "+t._s(t.$i18n.getMsg("extensions.Link.window.title"))+"\n      ")]),t._v(" "),o("v-spacer"),t._v(" "),o("v-btn",{attrs:{icon:""},on:{click:t.close}},[o("v-icon",[t._v(t._s(t.COMMON_ICONS.close[t.$tiptapVuetify.iconsGroup]))])],1)],1),t._v(" "),o("v-card-text",[o("v-text-field",{attrs:{label:t.$i18n.getMsg("extensions.Link.window.form.hrefLabel")},model:{value:t.form.href,callback:function(e){t.$set(t.form,"href",e)},expression:"form.href"}})],1),t._v(" "),o("v-card-actions",[o("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v("\n        "+t._s(t.$i18n.getMsg("extensions.Link.window.buttons.close"))+"\n      ")]),t._v(" "),o("v-btn",{attrs:{disabled:t.isDisabled,color:t.isRemove?"error":"primary",text:""},on:{click:t.apply}},[t._v("\n        "+t._s(t.$i18n.getMsg("extensions.Link.window.buttons."+(t.isRemove?"remove":"apply")))+"\n      ")])],1)],1)],1)},staticRenderFns:[]},undefined,qo,undefined,!1,undefined,void 0,void 0);class Jo extends bo{constructor(t){super(t,j)}get availableActions(){const e="link";return[{render:new Nt({tooltip:(t,e)=>new go(e.isActive(t)?"extensions.Link.buttons.isActive.tooltip":"extensions.Link.buttons.notActive.tooltip"),icons:{md:new dt("link"),fa:new dt("fas fa-link"),mdi:new dt("mdi-link"),mdiSvg:new dt("M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z")},nativeExtensionName:e,onClick({context:o,editor:n}){const i=o.getMarkAttrs(e).href,r=new(t.extend(Uo))({vuetify:t.prototype.tiptapVuetifyPlugin.vuetify,propsData:{value:!0,nativeExtensionName:e,context:o,editor:n,href:i}});r.$mount(),document.querySelector("body").appendChild(r.$el)}})}]}}var Wo="select-file";const Ko="tiptap-vuetify-image-upload-area-holder";let Zo=class extends(ot(Wt)){mounted(){const t=this.$el.querySelector("."+Ko);this.$el.querySelector("#tiptap-vuetify-image-upload-area__input-file").addEventListener("change",(e=>{e.target instanceof HTMLInputElement&&(this.filesSelected(e.target.files),t.classList.remove(Ko+"--dragover"),e.target.value="")})),t.addEventListener("dragover",(()=>(t.classList.add(Ko+"--dragover"),!1)));const e=()=>(t.classList.remove(Ko+"--dragover"),!1);t.addEventListener("dragleave",e),t.addEventListener("dragend",e),t.addEventListener("drop",(t=>{t.preventDefault(),this.filesSelected(t.dataTransfer.files)}))}filesSelected(t){t&&[...t].forEach((t=>{const e=new FileReader;e.addEventListener("load",(e=>{this.$emit(Wo,{src:e.target.result.toString(),alt:t.name})})),e.readAsDataURL(t)}))}};Zo=Z([st],Zo);var Go=Et({render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tiptap-vuetify-image-upload-area"},[o("input",{attrs:{id:"tiptap-vuetify-image-upload-area__input-file",type:"file",accept:"image/*",multiple:""}}),t._v(" "),o("label",{staticClass:"tiptap-vuetify-image-upload-area-holder",attrs:{for:"tiptap-vuetify-image-upload-area__input-file"}},[o("div",[o("svg",{staticClass:"tiptap-vuetify-image-upload-area-holder__icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"43",viewBox:"0 0 50 43"}},[o("path",{attrs:{d:"M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z"}})]),t._v(" "),o("br"),o("br"),t._v(" "),o("h3",[t._v(t._s(t.$i18n.getMsg("extensions.Image.window.imageUpload.instruction")))])])])])},staticRenderFns:[]},undefined,Zo,undefined,!1,undefined,void 0,void 0);let Xo=class extends(ot(Wt)){constructor(){super(...arguments),this.form={src:null,alt:null}}addImage(){this.$emit(Wo,{src:this.form.src,alt:this.form.alt}),this.form.src=null,this.form.alt=null}};Xo=Z([st({components:{VTextField:g}})],Xo);var Yo=Et({render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-text-field",{attrs:{label:t.$i18n.getMsg("extensions.Image.window.form.sourceLink")},model:{value:t.form.src,callback:function(e){t.$set(t.form,"src",e)},expression:"form.src"}}),t._v(" "),o("v-text-field",{attrs:{label:t.$i18n.getMsg("extensions.Image.window.form.altText")},model:{value:t.form.alt,callback:function(e){t.$set(t.form,"alt",e)},expression:"form.alt"}}),t._v(" "),o("v-btn",{on:{click:t.addImage}},[t._v("\n    "+t._s(t.$i18n.getMsg("extensions.Image.window.form.addImage"))+"\n  ")])],1)},staticRenderFns:[]},undefined,Xo,"data-v-c4747a2a",!1,undefined,void 0,void 0);let Qo=!1;try{if("undefined"!=typeof window){const t=Object.defineProperty({},"passive",{get:()=>{Qo=!0}});window.addEventListener("testListener",t,t),window.removeEventListener("testListener",t,t)}}catch(t){console.warn(t)}Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});const tn=/-(\w)/g,en=t=>t.replace(tn,((t,e)=>e?e.toUpperCase():""));function on(t){return null!=t?Array.isArray(t)?t:[t]:[]}const nn={styleList:/;(?![^(]*\))/g,styleProp:/:(.*)/};function rn(t){const e={};for(const o of t.split(nn.styleList)){let[t,n]=o.split(nn.styleProp);t=t.trim(),t&&("string"==typeof n&&(n=n.trim()),e[en(t)]=n)}return e}function sn(t,e){return t?e?(t=on("string"==typeof t?rn(t):t)).concat("string"==typeof e?rn(e):e):t:e}function an(t,e){return e?t&&t?on(t).concat(e):e:t}function ln(...t){if(!t[0])return t[1];if(!t[1])return t[0];const e={};for(let o=2;o--;){const n=t[o];for(const t in n)n[t]&&(e[t]?e[t]=[].concat(n[t],e[t]):e[t]=n[t])}return e}function pn(t,e,o="in-out"){return{name:t,functional:!0,props:{mode:{type:String,default:o}},render:(o,n)=>o("transition",function(){const t={};let e,o=arguments.length;for(;o--;)for(e of Object.keys(arguments[o]))switch(e){case"class":case"directives":arguments[o][e]&&(t[e]=an(t[e],arguments[o][e]));break;case"style":arguments[o][e]&&(t[e]=sn(t[e],arguments[o][e]));break;case"staticClass":if(!arguments[o][e])break;void 0===t[e]&&(t[e]=""),t[e]&&(t[e]+=" "),t[e]+=arguments[o][e].trim();break;case"on":case"nativeOn":arguments[o][e]&&(t[e]=ln(t[e],arguments[o][e]));break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":if(!arguments[o][e])break;t[e]||(t[e]={}),t[e]={...arguments[o][e],...t[e]};break;default:t[e]||(t[e]=arguments[o][e])}return t}(n.data,{props:{name:t},on:e}),n.children)}}function un(t="",e=!1){const o=e?"width":"height",n=`offset${i=o,i.charAt(0).toUpperCase()+i.slice(1)}`;var i;return{beforeEnter(t){t._parent=t.parentNode,t._initialStyle={transition:t.style.transition,overflow:t.style.overflow,[o]:t.style[o]}},enter(e){const i=e._initialStyle;e.style.setProperty("transition","none","important"),e.style.overflow="hidden";const r=`${e[n]}px`;e.style[o]="0",e.offsetHeight,e.style.transition=i.transition,t&&e._parent&&e._parent.classList.add(t),requestAnimationFrame((()=>{e.style[o]=r}))},afterEnter:s,enterCancelled:s,leave(t){t._initialStyle={transition:"",overflow:t.style.overflow,[o]:t.style[o]},t.style.overflow="hidden",t.style[o]=`${t[n]}px`,t.offsetHeight,requestAnimationFrame((()=>t.style[o]="0"))},afterLeave:r,leaveCancelled:r};function r(e){t&&e._parent&&e._parent.classList.remove(t),s(e)}function s(t){const e=t._initialStyle[o];t.style.overflow=t._initialStyle.overflow,null!=e&&(t.style[o]=e),delete t._initialStyle}}const cn=pn("expand-transition",un());pn("expand-x-transition",un("",!0));var dn,fn,hn,mn,vn,gn;const bn="value",yn="context",wn="editor",kn="imageSources",xn="imageSourcesOverride",Sn="nativeExtensionName";let On=class extends(ot(Wt)){constructor(){super(...arguments),this.COMMON_ICONS=vo,this.defaultImageTabs=[{name:"URL",component:Yo},{name:"Upload",component:Go}],this.inputPreviewSources=[]}get imageTabs(){return this[kn]?this[xn]?this[kn]:this.defaultImageTabs.concat(this[kn]):this.defaultImageTabs}get previewSources(){return this.inputPreviewSources.filter(Boolean)}get isDisabled(){return!this.previewSources.length}removeSource(t){this.inputPreviewSources.includes(t)&&(this.inputPreviewSources=this.inputPreviewSources.filter((e=>e!==t)))}onFileSelect(t){if(null!==t.src&&""!==t.src){const e=this.findFile(t);null!==e?e.alt=t.alt:this.inputPreviewSources.push(t)}}findFile(t){const e=this.inputPreviewSources.filter((e=>e.src===t.src));return e.length>0?e[0]:null}apply(){this.previewSources.forEach((t=>{this[yn].commands[this[Sn]](t)})),this.close(),this[wn].focus()}close(){this.$destroy(),this.$el.parentNode.removeChild(this.$el)}};dn=bn,fn=Sn,hn=yn,mn=wn,vn=kn,gn=xn,Z([lt({type:Boolean,default:!1}),G("design:type",Boolean)],On.prototype,dn,void 0),Z([lt({type:String,required:!0}),G("design:type",String)],On.prototype,fn,void 0),Z([lt({type:Object,required:!0}),G("design:type",Object)],On.prototype,hn,void 0),Z([lt({type:Object,required:!0}),G("design:type",Object)],On.prototype,mn,void 0),Z([lt({type:Array,required:!1}),G("design:type",Object)],On.prototype,vn,void 0),Z([lt({type:Boolean,required:!1}),G("design:type",Object)],On.prototype,gn,void 0),On=Z([st({components:{VRow:b,VCol:y,VExpandTransition:cn,ImageForm:Yo,ImageUploadArea:Go,VImg:w,VDialog:d,VCard:c,VCardTitle:f,VCardText:h,VCardActions:m,VBtn:l,VSpacer:v,VIcon:p,VTextField:g,VTabs:k,VTab:x,VTabsSlider:S,VTabItem:O,VTabsItems:L}})],On);var Ln=Et({render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{value:t.value,"max-width":"500px"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[t._v("\n        "+t._s(t.$i18n.getMsg("extensions.Image.window.title"))+"\n      ")]),t._v(" "),o("v-spacer"),t._v(" "),o("v-btn",{attrs:{icon:""},on:{click:t.close}},[o("v-icon",[t._v(t._s(t.COMMON_ICONS.close[t.$tiptapVuetify.iconsGroup]))])],1)],1),t._v(" "),o("v-card-text",[o("v-expand-transition",[o("div",{directives:[{name:"show",rawName:"v-show",value:t.previewSources.length,expression:"previewSources.length"}]},[o("v-row",{attrs:{"no-gutters":"",justify:"center",align:"center"}},t._l(t.previewSources,(function(e,n){return o("v-col",{key:"preview"+n,attrs:{cols:"4"}},[o("v-img",{staticClass:"text-right",attrs:{src:e.src,alt:e.alt}},[o("v-btn",{attrs:{icon:"",small:"",dark:""},on:{click:function(o){return t.removeSource(e)}}},[o("v-icon",{attrs:{small:""}},[t._v("\n                    close\n                  ")])],1)],1),t._v(" "),o("v-text-field",{attrs:{label:"Alt Text"},model:{value:e.alt,callback:function(o){t.$set(e,"alt",o)},expression:"source.alt"}})],1)})),1)],1)])],1),t._v(" "),o("v-tabs",{attrs:{"fixed-tabs":""}},[t._l(t.imageTabs,(function(e,n){return[o("v-tab",{key:"tab-"+n,attrs:{href:"#tab-"+n}},[t._v("\n          "+t._s(e.name)+"\n        ")]),t._v(" "),o("v-tab-item",{key:"tab-item-"+n,attrs:{value:"tab-"+n}},[o(e.component,{tag:"component",staticClass:"pa-4",on:{"select-file":t.onFileSelect}})],1)]}))],2),t._v(" "),o("v-card-actions",[o("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v("\n        "+t._s(t.$i18n.getMsg("extensions.Image.window.buttons.close"))+"\n      ")]),t._v(" "),o("v-btn",{attrs:{disabled:t.isDisabled,text:""},on:{click:t.apply}},[t._v("\n        "+t._s(t.$i18n.getMsg("extensions.Image.window.buttons.apply"))+"\n      ")])],1)],1)],1)},staticRenderFns:[]},undefined,On,undefined,!1,undefined,void 0,void 0);class An extends bo{constructor(t){super(t,F)}get availableActions(){const e="image",o=this.options;return[{render:new Nt({tooltip:new go("extensions.Image.buttons.tooltip"),icons:{md:new dt("image"),fa:new dt("fas fa-image"),mdi:new dt("mdi-image"),mdiSvg:new dt("M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z")},nativeExtensionName:e,async onClick({context:n,editor:i}){const r=new(t.extend(Ln))({vuetify:t.prototype.tiptapVuetifyPlugin.vuetify,propsData:{value:!0,nativeExtensionName:e,context:n,editor:i,imageSources:o.imageSources,imageSourcesOverride:o.imageSourcesOverride}});r.$mount(),document.querySelector("body").appendChild(r.$el)}})}]}}class Cn extends bo{constructor(t){super(t,q)}get availableActions(){return[{render:new Nt({tooltip:new go("extensions.TodoList.buttons.todoList.tooltip"),icons:{md:new dt("check_box"),fa:new dt("fas fa-tasks"),mdi:new dt("mdi-format-list-checks"),mdiSvg:new dt("M3,5H9V11H3V5M5,7V9H7V7H5M11,7H21V9H11V7M11,15H21V17H11V15M5,20L1.5,16.5L2.91,15.09L5,17.17L9.59,12.59L11,14L5,20Z")},nativeExtensionName:"todo_list"})}]}}function En(t,e,o){for(var n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:o;var i=t.child(n),r=e.child(n);if(i!=r){if(!i.sameMarkup(r))return o;if(i.isText&&i.text!=r.text){for(var s=0;i.text[s]==r.text[s];s++)o++;return o}if(i.content.size||r.content.size){var a=En(i.content,r.content,o+1);if(null!=a)return a}o+=i.nodeSize}else o+=i.nodeSize}}function Tn(t,e,o,n){for(var i=t.childCount,r=e.childCount;;){if(0==i||0==r)return i==r?null:{a:o,b:n};var s=t.child(--i),a=e.child(--r),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:o,b:n};if(s.isText&&s.text!=a.text){for(var p=0,u=Math.min(s.text.length,a.text.length);p<u&&s.text[s.text.length-p-1]==a.text[a.text.length-p-1];)p++,o--,n--;return{a:o,b:n}}if(s.content.size||a.content.size){var c=Tn(s.content,a.content,o-1,n-1);if(c)return c}o-=l,n-=l}else o-=l,n-=l}}var Rn=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var o=0;o<t.length;o++)this.size+=t[o].nodeSize},In={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};Rn.prototype.nodesBetween=function(t,e,o,n,i){void 0===n&&(n=0);for(var r=0,s=0;s<e;r++){var a=this.content[r],l=s+a.nodeSize;if(l>t&&!1!==o(a,n+s,i,r)&&a.content.size){var p=s+1;a.nodesBetween(Math.max(0,t-p),Math.min(a.content.size,e-p),o,n+p)}s=l}},Rn.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},Rn.prototype.textBetween=function(t,e,o,n){var i="",r=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(i+=s.text.slice(Math.max(t,a)-a,e-a),r=!o):s.isLeaf&&n?(i+=n,r=!o):!r&&s.isBlock&&(i+=o,r=!0)}),0),i},Rn.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,o=t.firstChild,n=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(o)&&(n[n.length-1]=e.withText(e.text+o.text),i=1);i<t.content.length;i++)n.push(t.content[i]);return new Rn(n,this.size+t.size)},Rn.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var o=[],n=0;if(e>t)for(var i=0,r=0;r<e;i++){var s=this.content[i],a=r+s.nodeSize;a>t&&((r<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-r),Math.min(s.text.length,e-r)):s.cut(Math.max(0,t-r-1),Math.min(s.content.size,e-r-1))),o.push(s),n+=s.nodeSize),r=a}return new Rn(o,n)},Rn.prototype.cutByIndex=function(t,e){return t==e?Rn.empty:0==t&&e==this.content.length?this:new Rn(this.content.slice(t,e))},Rn.prototype.replaceChild=function(t,e){var o=this.content[t];if(o==e)return this;var n=this.content.slice(),i=this.size+e.nodeSize-o.nodeSize;return n[t]=e,new Rn(n,i)},Rn.prototype.addToStart=function(t){return new Rn([t].concat(this.content),this.size+t.nodeSize)},Rn.prototype.addToEnd=function(t){return new Rn(this.content.concat(t),this.size+t.nodeSize)},Rn.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},In.firstChild.get=function(){return this.content.length?this.content[0]:null},In.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},In.childCount.get=function(){return this.content.length},Rn.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},Rn.prototype.maybeChild=function(t){return this.content[t]},Rn.prototype.forEach=function(t){for(var e=0,o=0;e<this.content.length;e++){var n=this.content[e];t(n,o,e),o+=n.nodeSize}},Rn.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),En(this,t,e)},Rn.prototype.findDiffEnd=function(t,e,o){return void 0===e&&(e=this.size),void 0===o&&(o=t.size),Tn(this,t,e,o)},Rn.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return Bn(0,t);if(t==this.size)return Bn(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var o=0,n=0;;o++){var i=n+this.child(o).nodeSize;if(i>=t)return i==t||e>0?Bn(o+1,i):Bn(o,n);n=i}},Rn.prototype.toString=function(){return"<"+this.toStringInner()+">"},Rn.prototype.toStringInner=function(){return this.content.join(", ")},Rn.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},Rn.fromJSON=function(t,e){if(!e)return Rn.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new Rn(e.map(t.nodeFromJSON))},Rn.fromArray=function(t){if(!t.length)return Rn.empty;for(var e,o=0,n=0;n<t.length;n++){var i=t[n];o+=i.nodeSize,n&&i.isText&&t[n-1].sameMarkup(i)?(e||(e=t.slice(0,n)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new Rn(e||t,o)},Rn.from=function(t){if(!t)return Rn.empty;if(t instanceof Rn)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Rn([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(Rn.prototype,In);var Mn={index:0,offset:0};function Bn(t,e){return Mn.index=t,Mn.offset=e,Mn}function _n(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var o=Array.isArray(t);if(Array.isArray(e)!=o)return!1;if(o){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!_n(t[n],e[n]))return!1}else{for(var i in t)if(!(i in e)||!_n(t[i],e[i]))return!1;for(var r in e)if(!(r in t))return!1}return!0}Rn.empty=new Rn([],0);var Nn=function(t,e){this.type=t,this.attrs=e};function Pn(t){var e=Error.call(this,t);return e.__proto__=Pn.prototype,e}Nn.prototype.addToSet=function(t){for(var e,o=!1,n=0;n<t.length;n++){var i=t[n];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,n));else{if(i.type.excludes(this.type))return t;!o&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,n)),e.push(this),o=!0),e&&e.push(i)}}return e||(e=t.slice()),o||e.push(this),e},Nn.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},Nn.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},Nn.prototype.eq=function(t){return this==t||this.type==t.type&&_n(this.attrs,t.attrs)},Nn.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},Nn.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var o=t.marks[e.type];if(!o)throw new RangeError("There is no mark type "+e.type+" in this schema");return o.create(e.attrs)},Nn.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var o=0;o<t.length;o++)if(!t[o].eq(e[o]))return!1;return!0},Nn.setFrom=function(t){if(!t||0==t.length)return Nn.none;if(t instanceof Nn)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},Nn.none=[],Pn.prototype=Object.create(Error.prototype),Pn.prototype.constructor=Pn,Pn.prototype.name="ReplaceError";var Hn=function(t,e,o){this.content=t,this.openStart=e,this.openEnd=o},zn={size:{configurable:!0}};function Dn(t,e,o){var n=t.findIndex(e),i=n.index,r=n.offset,s=t.maybeChild(i),a=t.findIndex(o),l=a.index,p=a.offset;if(r==e||s.isText){if(p!=o&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(o))}if(i!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(i,s.copy(Dn(s.content,e-r-1,o-r-1)))}function $n(t,e,o,n){var i=t.findIndex(e),r=i.index,s=i.offset,a=t.maybeChild(r);if(s==e||a.isText)return n&&!n.canReplace(r,r,o)?null:t.cut(0,e).append(o).append(t.cut(e));var l=$n(a.content,e-s-1,o);return l&&t.replaceChild(r,a.copy(l))}function Vn(t,e,o){if(o.openStart>t.depth)throw new Pn("Inserted content deeper than insertion position");if(t.depth-o.openStart!=e.depth-o.openEnd)throw new Pn("Inconsistent open depths");return jn(t,e,o,0)}function jn(t,e,o,n){var i=t.index(n),r=t.node(n);if(i==e.index(n)&&n<t.depth-o.openStart){var s=jn(t,e,o,n+1);return r.copy(r.content.replaceChild(i,s))}if(o.content.size){if(o.openStart||o.openEnd||t.depth!=n||e.depth!=n){var a=function(t,e){for(var o=e.depth-t.openStart,n=e.node(o).copy(t.content),i=o-1;i>=0;i--)n=e.node(i).copy(Rn.from(n));return{start:n.resolveNoCache(t.openStart+o),end:n.resolveNoCache(n.content.size-t.openEnd-o)}}(o,t);return Wn(r,Kn(t,a.start,a.end,e,n))}var l=t.parent,p=l.content;return Wn(l,p.cut(0,t.parentOffset).append(o.content).append(p.cut(e.parentOffset)))}return Wn(r,Zn(t,e,n))}function Fn(t,e){if(!e.type.compatibleContent(t.type))throw new Pn("Cannot join "+e.type.name+" onto "+t.type.name)}function qn(t,e,o){var n=t.node(o);return Fn(n,e.node(o)),n}function Un(t,e){var o=e.length-1;o>=0&&t.isText&&t.sameMarkup(e[o])?e[o]=t.withText(e[o].text+t.text):e.push(t)}function Jn(t,e,o,n){var i=(e||t).node(o),r=0,s=e?e.index(o):i.childCount;t&&(r=t.index(o),t.depth>o?r++:t.textOffset&&(Un(t.nodeAfter,n),r++));for(var a=r;a<s;a++)Un(i.child(a),n);e&&e.depth==o&&e.textOffset&&Un(e.nodeBefore,n)}function Wn(t,e){if(!t.type.validContent(e))throw new Pn("Invalid content for node "+t.type.name);return t.copy(e)}function Kn(t,e,o,n,i){var r=t.depth>i&&qn(t,e,i+1),s=n.depth>i&&qn(o,n,i+1),a=[];return Jn(null,t,i,a),r&&s&&e.index(i)==o.index(i)?(Fn(r,s),Un(Wn(r,Kn(t,e,o,n,i+1)),a)):(r&&Un(Wn(r,Zn(t,e,i+1)),a),Jn(e,o,i,a),s&&Un(Wn(s,Zn(o,n,i+1)),a)),Jn(n,null,i,a),new Rn(a)}function Zn(t,e,o){var n=[];(Jn(null,t,o,n),t.depth>o)&&Un(Wn(qn(t,e,o+1),Zn(t,e,o+1)),n);return Jn(e,null,o,n),new Rn(n)}zn.size.get=function(){return this.content.size-this.openStart-this.openEnd},Hn.prototype.insertAt=function(t,e){var o=$n(this.content,t+this.openStart,e,null);return o&&new Hn(o,this.openStart,this.openEnd)},Hn.prototype.removeBetween=function(t,e){return new Hn(Dn(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},Hn.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},Hn.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},Hn.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},Hn.fromJSON=function(t,e){if(!e)return Hn.empty;var o=e.openStart||0,n=e.openEnd||0;if("number"!=typeof o||"number"!=typeof n)throw new RangeError("Invalid input for Slice.fromJSON");return new Hn(Rn.fromJSON(t,e.content),e.openStart||0,e.openEnd||0)},Hn.maxOpen=function(t,e){void 0===e&&(e=!0);for(var o=0,n=0,i=t.firstChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.firstChild)o++;for(var r=t.lastChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.lastChild)n++;return new Hn(t,o,n)},Object.defineProperties(Hn.prototype,zn),Hn.empty=new Hn(Rn.empty,0,0);var Gn=function(t,e,o){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=o},Xn={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};Gn.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},Xn.parent.get=function(){return this.node(this.depth)},Xn.doc.get=function(){return this.node(0)},Gn.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},Gn.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},Gn.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},Gn.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},Gn.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},Gn.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},Gn.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},Xn.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},Xn.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var o=this.pos-this.path[this.path.length-1],n=t.child(e);return o?t.child(e).cut(o):n},Xn.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},Gn.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return Nn.none;if(this.textOffset)return t.child(e).marks;var o=t.maybeChild(e-1),n=t.maybeChild(e);if(!o){var i=o;o=n,n=i}for(var r=o.marks,s=0;s<r.length;s++)!1!==r[s].type.spec.inclusive||n&&r[s].isInSet(n.marks)||(r=r[s--].removeFromSet(r));return r},Gn.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var o=e.marks,n=t.parent.maybeChild(t.index()),i=0;i<o.length;i++)!1!==o[i].type.spec.inclusive||n&&o[i].isInSet(n.marks)||(o=o[i--].removeFromSet(o));return o},Gn.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},Gn.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var o=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);o>=0;o--)if(t.pos<=this.end(o)&&(!e||e(this.node(o))))return new ei(this,t,o)},Gn.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},Gn.prototype.max=function(t){return t.pos>this.pos?t:this},Gn.prototype.min=function(t){return t.pos<this.pos?t:this},Gn.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},Gn.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var o=[],n=0,i=e,r=t;;){var s=r.content.findIndex(i),a=s.index,l=s.offset,p=i-l;if(o.push(r,a,n+l),!p)break;if((r=r.child(a)).isText)break;i=p-1,n+=l+1}return new Gn(e,o,i)},Gn.resolveCached=function(t,e){for(var o=0;o<Yn.length;o++){var n=Yn[o];if(n.pos==e&&n.doc==t)return n}var i=Yn[Qn]=Gn.resolve(t,e);return Qn=(Qn+1)%ti,i},Object.defineProperties(Gn.prototype,Xn);var Yn=[],Qn=0,ti=12,ei=function(t,e,o){this.$from=t,this.$to=e,this.depth=o},oi={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};oi.start.get=function(){return this.$from.before(this.depth+1)},oi.end.get=function(){return this.$to.after(this.depth+1)},oi.parent.get=function(){return this.$from.node(this.depth)},oi.startIndex.get=function(){return this.$from.index(this.depth)},oi.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(ei.prototype,oi);var ni=Object.create(null),ii=function(t,e,o,n){this.type=t,this.attrs=e,this.content=o||Rn.empty,this.marks=n||Nn.none},ri={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};ri.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},ri.childCount.get=function(){return this.content.childCount},ii.prototype.child=function(t){return this.content.child(t)},ii.prototype.maybeChild=function(t){return this.content.maybeChild(t)},ii.prototype.forEach=function(t){this.content.forEach(t)},ii.prototype.nodesBetween=function(t,e,o,n){void 0===n&&(n=0),this.content.nodesBetween(t,e,o,n,this)},ii.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},ri.textContent.get=function(){return this.textBetween(0,this.content.size,"")},ii.prototype.textBetween=function(t,e,o,n){return this.content.textBetween(t,e,o,n)},ri.firstChild.get=function(){return this.content.firstChild},ri.lastChild.get=function(){return this.content.lastChild},ii.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},ii.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},ii.prototype.hasMarkup=function(t,e,o){return this.type==t&&_n(this.attrs,e||t.defaultAttrs||ni)&&Nn.sameSet(this.marks,o||Nn.none)},ii.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},ii.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},ii.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},ii.prototype.slice=function(t,e,o){if(void 0===e&&(e=this.content.size),void 0===o&&(o=!1),t==e)return Hn.empty;var n=this.resolve(t),i=this.resolve(e),r=o?0:n.sharedDepth(e),s=n.start(r),a=n.node(r).content.cut(n.pos-s,i.pos-s);return new Hn(a,n.depth-r,i.depth-r)},ii.prototype.replace=function(t,e,o){return Vn(this.resolve(t),this.resolve(e),o)},ii.prototype.nodeAt=function(t){for(var e=this;;){var o=e.content.findIndex(t),n=o.index,i=o.offset;if(!(e=e.maybeChild(n)))return null;if(i==t||e.isText)return e;t-=i+1}},ii.prototype.childAfter=function(t){var e=this.content.findIndex(t),o=e.index,n=e.offset;return{node:this.content.maybeChild(o),index:o,offset:n}},ii.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),o=e.index,n=e.offset;if(n<t)return{node:this.content.child(o),index:o,offset:n};var i=this.content.child(o-1);return{node:i,index:o-1,offset:n-i.nodeSize}},ii.prototype.resolve=function(t){return Gn.resolveCached(this,t)},ii.prototype.resolveNoCache=function(t){return Gn.resolve(this,t)},ii.prototype.rangeHasMark=function(t,e,o){var n=!1;return e>t&&this.nodesBetween(t,e,(function(t){return o.isInSet(t.marks)&&(n=!0),!n})),n},ri.isBlock.get=function(){return this.type.isBlock},ri.isTextblock.get=function(){return this.type.isTextblock},ri.inlineContent.get=function(){return this.type.inlineContent},ri.isInline.get=function(){return this.type.isInline},ri.isText.get=function(){return this.type.isText},ri.isLeaf.get=function(){return this.type.isLeaf},ri.isAtom.get=function(){return this.type.isAtom},ii.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),function(t,e){for(var o=t.length-1;o>=0;o--)e=t[o].type.name+"("+e+")";return e}(this.marks,t)},ii.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},ii.prototype.canReplace=function(t,e,o,n,i){void 0===o&&(o=Rn.empty),void 0===n&&(n=0),void 0===i&&(i=o.childCount);var r=this.contentMatchAt(t).matchFragment(o,n,i),s=r&&r.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var a=n;a<i;a++)if(!this.type.allowsMarks(o.child(a).marks))return!1;return!0},ii.prototype.canReplaceWith=function(t,e,o,n){if(n&&!this.type.allowsMarks(n))return!1;var i=this.contentMatchAt(t).matchType(o),r=i&&i.matchFragment(this.content,e);return!!r&&r.validEnd},ii.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},ii.prototype.defaultContentType=function(t){return this.contentMatchAt(t).defaultType},ii.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(t){return t.check()}))},ii.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},ii.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var o=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");o=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,o)}var n=Rn.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,n,o)},Object.defineProperties(ii.prototype,ri);var si=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},ai={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};si.parse=function(t,e){var o=new li(t,e);if(null==o.next)return si.empty;var n=ui(o);o.next&&o.err("Unexpected trailing text");var i=function(t){var e=Object.create(null);return o(vi(t,0));function o(n){var i=[];n.forEach((function(e){t[e].forEach((function(e){var o=e.term,n=e.to;if(o){var r=i.indexOf(o),s=r>-1&&i[r+1];vi(t,n).forEach((function(t){s||i.push(o,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var r=e[n.join(",")]=new si(n.indexOf(t.length-1)>-1),s=0;s<i.length;s+=2){var a=i[s+1].sort(mi);r.next.push(i[s],e[a.join(",")]||o(a))}return r}}(function(t){var e=[[]];return i(r(t,0),o()),e;function o(){return e.push([])-1}function n(t,o,n){var i={term:n,to:o};return e[t].push(i),i}function i(t,e){t.forEach((function(t){return t.to=e}))}function r(t,e){if("choice"==t.type)return t.exprs.reduce((function(t,o){return t.concat(r(o,e))}),[]);if("seq"==t.type)for(var s=0;;s++){var a=r(t.exprs[s],e);if(s==t.exprs.length-1)return a;i(a,e=o())}else{if("star"==t.type){var l=o();return n(e,l),i(r(t.expr,l),l),[n(l)]}if("plus"==t.type){var p=o();return i(r(t.expr,e),p),i(r(t.expr,p),p),[n(p)]}if("opt"==t.type)return[n(e)].concat(r(t.expr,e));if("range"==t.type){for(var u=e,c=0;c<t.min;c++){var d=o();i(r(t.expr,u),d),u=d}if(-1==t.max)i(r(t.expr,u),u);else for(var f=t.min;f<t.max;f++){var h=o();n(u,h),i(r(t.expr,u),h),u=h}return[n(u)]}if("name"==t.type)return[n(e,null,t.value)]}}}(n));return function(t,e){for(var o=0,n=[t];o<n.length;o++){for(var i=n[o],r=!i.validEnd,s=[],a=0;a<i.next.length;a+=2){var l=i.next[a],p=i.next[a+1];s.push(l.name),!r||l.isText||l.hasRequiredAttrs()||(r=!1),-1==n.indexOf(p)&&n.push(p)}r&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position")}}(i,o),i},si.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},si.prototype.matchFragment=function(t,e,o){void 0===e&&(e=0),void 0===o&&(o=t.childCount);for(var n=this,i=e;n&&i<o;i++)n=n.matchType(t.child(i).type);return n},ai.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},ai.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},si.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var o=0;o<t.next.length;o+=2)if(this.next[e]==t.next[o])return!0;return!1},si.prototype.fillBefore=function(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=0);var n=[this];return function i(r,s){var a=r.matchFragment(t,o);if(a&&(!e||a.validEnd))return Rn.from(s.map((function(t){return t.createAndFill()})));for(var l=0;l<r.next.length;l+=2){var p=r.next[l],u=r.next[l+1];if(!p.isText&&!p.hasRequiredAttrs()&&-1==n.indexOf(u)){n.push(u);var c=i(u,s.concat(p));if(c)return c}}}(this,[])},si.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var o=this.computeWrapping(t);return this.wrapCache.push(t,o),o},si.prototype.computeWrapping=function(t){for(var e=Object.create(null),o=[{match:this,type:null,via:null}];o.length;){var n=o.shift(),i=n.match;if(i.matchType(t)){for(var r=[],s=n;s.type;s=s.via)r.push(s.type);return r.reverse()}for(var a=0;a<i.next.length;a+=2){var l=i.next[a];l.isLeaf||l.hasRequiredAttrs()||l.name in e||n.type&&!i.next[a+1].validEnd||(o.push({match:l.contentMatch,type:l,via:n}),e[l.name]=!0)}}},ai.edgeCount.get=function(){return this.next.length>>1},si.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},si.prototype.toString=function(){var t=[];return function e(o){t.push(o);for(var n=1;n<o.next.length;n+=2)-1==t.indexOf(o.next[n])&&e(o.next[n])}(this),t.map((function(e,o){for(var n=o+(e.validEnd?"*":" ")+" ",i=0;i<e.next.length;i+=2)n+=(i?", ":"")+e.next[i].name+"->"+t.indexOf(e.next[i+1]);return n})).join("\n")},Object.defineProperties(si.prototype,ai),si.empty=new si(!0);var li=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},pi={next:{configurable:!0}};function ui(t){var e=[];do{e.push(ci(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function ci(t){var e=[];do{e.push(di(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function di(t){for(var e=function(t){if(t.eat("(")){var e=ui(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var o=function(t,e){var o=t.nodeTypes,n=o[e];if(n)return[n];var i=[];for(var r in o){var s=o[r];s.groups.indexOf(e)>-1&&i.push(s)}0==i.length&&t.err("No node type or group '"+e+"' found");return i}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==o.length?o[0]:{type:"choice",exprs:o}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=hi(t,e)}return e}function fi(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function hi(t,e){var o=fi(t),n=o;return t.eat(",")&&(n="}"!=t.next?fi(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:o,max:n,expr:e}}function mi(t,e){return e-t}function vi(t,e){var o=[];return function e(n){var i=t[n];if(1==i.length&&!i[0].term)return e(i[0].to);o.push(n);for(var r=0;r<i.length;r++){var s=i[r],a=s.term,l=s.to;a||-1!=o.indexOf(l)||e(l)}}(e),o.sort(mi)}function gi(t){var e=Object.create(null);for(var o in t){var n=t[o];if(!n.hasDefault)return null;e[o]=n.default}return e}function bi(t,e){var o=Object.create(null);for(var n in t){var i=e&&e[n];if(void 0===i){var r=t[n];if(!r.hasDefault)throw new RangeError("No value supplied for attribute "+n);i=r.default}o[n]=i}return o}function yi(t){var e=Object.create(null);if(t)for(var o in t)e[o]=new xi(t[o]);return e}pi.next.get=function(){return this.tokens[this.pos]},li.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},li.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(li.prototype,pi);var wi=function(t,e,o){this.name=t,this.schema=e,this.spec=o,this.groups=o.group?o.group.split(" "):[],this.attrs=yi(o.attrs),this.defaultAttrs=gi(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(o.inline||"text"==t),this.isText="text"==t},ki={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};ki.isInline.get=function(){return!this.isBlock},ki.isTextblock.get=function(){return this.isBlock&&this.inlineContent},ki.isLeaf.get=function(){return this.contentMatch==si.empty},ki.isAtom.get=function(){return this.isLeaf||this.spec.atom},wi.prototype.hasRequiredAttrs=function(t){for(var e in this.attrs)if(this.attrs[e].isRequired&&(!t||!(e in t)))return!0;return!1},wi.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},wi.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:bi(this.attrs,t)},wi.prototype.create=function(t,e,o){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ii(this,this.computeAttrs(t),Rn.from(e),Nn.setFrom(o))},wi.prototype.createChecked=function(t,e,o){if(e=Rn.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new ii(this,this.computeAttrs(t),e,Nn.setFrom(o))},wi.prototype.createAndFill=function(t,e,o){if(t=this.computeAttrs(t),(e=Rn.from(e)).size){var n=this.contentMatch.fillBefore(e);if(!n)return null;e=n.append(e)}var i=this.contentMatch.matchFragment(e).fillBefore(Rn.empty,!0);return i?new ii(this,t,e.append(i),Nn.setFrom(o)):null},wi.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var o=0;o<t.childCount;o++)if(!this.allowsMarks(t.child(o).marks))return!1;return!0},wi.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},wi.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},wi.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,o=0;o<t.length;o++)this.allowsMarkType(t[o].type)?e&&e.push(t[o]):e||(e=t.slice(0,o));return e?e.length?e:Nn.empty:t},wi.compile=function(t,e){var o=Object.create(null);t.forEach((function(t,n){return o[t]=new wi(t,e,n)}));var n=e.spec.topNode||"doc";if(!o[n])throw new RangeError("Schema is missing its top node type ('"+n+"')");if(!o.text)throw new RangeError("Every schema needs a 'text' type");for(var i in o.text.attrs)throw new RangeError("The text node type should not have attributes");return o},Object.defineProperties(wi.prototype,ki);var xi=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},Si={isRequired:{configurable:!0}};Si.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(xi.prototype,Si);var Oi=function(t,e,o,n){this.name=t,this.schema=o,this.spec=n,this.attrs=yi(n.attrs),this.rank=e,this.excluded=null;var i=gi(this.attrs);this.instance=i&&new Nn(this,i)};Oi.prototype.create=function(t){return!t&&this.instance?this.instance:new Nn(this,bi(this.attrs,t))},Oi.compile=function(t,e){var o=Object.create(null),n=0;return t.forEach((function(t,i){return o[t]=new Oi(t,n++,e,i)})),o},Oi.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t.slice(0,e).concat(t.slice(e+1));return t},Oi.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},Oi.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var Li=function(t,e){var o=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?o.tags.push(t):t.style&&o.styles.push(t)}))};Li.prototype.parse=function(t,e){void 0===e&&(e={});var o=new Ii(this,e,!1);return o.addAll(t,null,e.from,e.to),o.finish()},Li.prototype.parseSlice=function(t,e){void 0===e&&(e={});var o=new Ii(this,e,!0);return o.addAll(t,null,e.from,e.to),Hn.maxOpen(o.finish())},Li.prototype.matchTag=function(t,e){for(var o=0;o<this.tags.length;o++){var n=this.tags[o];if(Bi(t,n.tag)&&(void 0===n.namespace||t.namespaceURI==n.namespace)&&(!n.context||e.matchesContext(n.context))){if(n.getAttrs){var i=n.getAttrs(t);if(!1===i)continue;n.attrs=i}return n}}},Li.prototype.matchStyle=function(t,e,o){for(var n=0;n<this.styles.length;n++){var i=this.styles[n];if(!(0!=i.style.indexOf(t)||i.context&&!o.matchesContext(i.context)||i.style.length>t.length&&(61!=i.style.charCodeAt(t.length)||i.style.slice(t.length+1)!=e))){if(i.getAttrs){var r=i.getAttrs(e);if(!1===r)continue;i.attrs=r}return i}}},Li.schemaRules=function(t){var e=[];function o(t){for(var o=null==t.priority?50:t.priority,n=0;n<e.length;n++){var i=e[n];if((null==i.priority?50:i.priority)<o)break}e.splice(n,0,t)}var n=function(e){var n=t.marks[e].spec.parseDOM;n&&n.forEach((function(t){o(t=_i(t)),t.mark=e}))};for(var i in t.marks)n(i);var r;for(var s in t.nodes)r=void 0,(r=t.nodes[s].spec.parseDOM)&&r.forEach((function(t){o(t=_i(t)),t.node=s}));return e},Li.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new Li(t,Li.schemaRules(t)))};var Ai={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Ci={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ei={ol:!0,ul:!0};function Ti(t){return(t?1:0)|("full"===t?2:0)}var Ri=function(t,e,o,n,i,r){this.type=t,this.attrs=e,this.solid=n,this.match=i||(4&r?null:t.contentMatch),this.options=r,this.content=[],this.marks=o,this.activeMarks=Nn.none};Ri.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(Rn.from(t));if(!e){var o,n=this.type.contentMatch;return(o=n.findWrapping(t.type))?(this.match=n,o):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},Ri.prototype.finish=function(t){if(!(1&this.options)){var e,o=this.content[this.content.length-1];o&&o.isText&&(e=/[ \t\r\n\u000c]+$/.exec(o.text))&&(o.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-e[0].length)))}var n=Rn.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(Rn.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n};var Ii=function(t,e,o){this.parser=t,this.options=e,this.isOpen=o,this.pendingMarks=[];var n,i=e.topNode,r=Ti(e.preserveWhitespace)|(o?4:0);n=i?new Ri(i.type,i.attrs,Nn.none,!0,e.topMatch||i.type.contentMatch,r):new Ri(o?null:t.schema.topNodeType,null,Nn.none,!0,null,r),this.nodes=[n],this.open=0,this.find=e.findPositions,this.needsBlock=!1},Mi={top:{configurable:!0},currentPos:{configurable:!0}};function Bi(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function _i(t){var e={};for(var o in t)e[o]=t[o];return e}Mi.top.get=function(){return this.nodes[this.open]},Ii.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),o=e?this.readStyles(function(t){var e,o=/\s*([\w-]+)\s*:\s*([^;]+)/g,n=[];for(;e=o.exec(t);)n.push(e[1],e[2].trim());return n}(e)):null;if(null!=o)for(var n=0;n<o.length;n++)this.addPendingMark(o[n]);if(this.addElement(t),null!=o)for(var i=0;i<o.length;i++)this.removePendingMark(o[i])}},Ii.prototype.addTextNode=function(t){var e=t.nodeValue,o=this.top;if((o.type?o.type.inlineContent:o.content.length&&o.content[0].isInline)||/[^ \t\r\n\u000c]/.test(e)){if(1&o.options)2&o.options||(e=e.replace(/\r?\n|\r/g," "));else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var n=o.content[o.content.length-1],i=t.previousSibling;(!n||i&&"BR"==i.nodeName||n.isText&&/[ \t\r\n\u000c]$/.test(n.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},Ii.prototype.addElement=function(t){var e=t.nodeName.toLowerCase();Ei.hasOwnProperty(e)&&function(t){for(var e=t.firstChild,o=null;e;e=e.nextSibling){var n=1==e.nodeType?e.nodeName.toLowerCase():null;n&&Ei.hasOwnProperty(n)&&o?(o.appendChild(e),e=o):"li"==n?o=e:n&&(o=null)}}(t);var o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||this.parser.matchTag(t,this);if(o?o.ignore:Ci.hasOwnProperty(e))this.findInside(t);else if(!o||o.skip){o&&o.skip.nodeType&&(t=o.skip);var n,i=this.top,r=this.needsBlock;if(Ai.hasOwnProperty(e))n=!0,i.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),n&&this.sync(i),this.needsBlock=r}else this.addElementByRule(t,o)},Ii.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},Ii.prototype.readStyles=function(t){for(var e=Nn.none,o=0;o<t.length;o+=2){var n=this.parser.matchStyle(t[o],t[o+1],this);if(n){if(n.ignore)return null;e=this.parser.schema.marks[n.mark].create(n.attrs).addToSet(e)}}return e},Ii.prototype.addElementByRule=function(t,e){var o,n,i,r=this;e.node?(n=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(n.create(e.attrs))||this.leafFallback(t):o=this.enter(n,e.attrs,e.preserveWhitespace):(i=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(i));var s=this.top;if(n&&n.isLeaf)this.findInside(t);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return r.insertNode(t)}));else{var a=e.contentElement;"string"==typeof a?a=t.querySelector(a):"function"==typeof a&&(a=a(t)),a||(a=t),this.findAround(t,a,!0),this.addAll(a,o)}o&&(this.sync(s),this.open--),i&&this.removePendingMark(i)},Ii.prototype.addAll=function(t,e,o,n){for(var i=o||0,r=o?t.childNodes[o]:t.firstChild,s=null==n?null:t.childNodes[n];r!=s;r=r.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(r),e&&Ai.hasOwnProperty(r.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,i)},Ii.prototype.findPlace=function(t){for(var e,o,n=this.open;n>=0;n--){var i=this.nodes[n],r=i.findWrapping(t);if(r&&(!e||e.length>r.length)&&(e=r,o=i,!r.length))break;if(i.solid)break}if(!e)return!1;this.sync(o);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},Ii.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var o=this.top;this.applyPendingMarks(o),o.match&&(o.match=o.match.matchType(t.type));for(var n=o.activeMarks,i=0;i<t.marks.length;i++)o.type&&!o.type.allowsMarkType(t.marks[i].type)||(n=t.marks[i].addToSet(n));return o.content.push(t.mark(n)),!0}return!1},Ii.prototype.applyPendingMarks=function(t){for(var e=0;e<this.pendingMarks.length;e++){var o=this.pendingMarks[e];t.type&&!t.type.allowsMarkType(o.type)||o.isInSet(t.activeMarks)||(t.activeMarks=o.addToSet(t.activeMarks),this.pendingMarks.splice(e--,1))}},Ii.prototype.enter=function(t,e,o){var n=this.findPlace(t.create(e));return n&&(this.applyPendingMarks(this.top),this.enterInner(t,e,!0,o)),n},Ii.prototype.enterInner=function(t,e,o,n){this.closeExtra();var i=this.top;i.match=i.match&&i.match.matchType(t,e);var r=null==n?-5&i.options:Ti(n);4&i.options&&0==i.content.length&&(r|=4),this.nodes.push(new Ri(t,e,i.activeMarks,o,null,r)),this.open++},Ii.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},Ii.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},Ii.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},Ii.prototype.addPendingMark=function(t){this.pendingMarks.push(t)},Ii.prototype.removePendingMark=function(t){var e=this.pendingMarks.lastIndexOf(t);if(e>-1)this.pendingMarks.splice(e,1);else{var o=this.top;o.activeMarks=t.removeFromSet(o.activeMarks)}},Mi.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var o=this.nodes[e].content,n=o.length-1;n>=0;n--)t+=o[n].nodeSize;e&&t++}return t},Ii.prototype.findAtPoint=function(t,e){if(this.find)for(var o=0;o<this.find.length;o++)this.find[o].node==t&&this.find[o].offset==e&&(this.find[o].pos=this.currentPos)},Ii.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},Ii.prototype.findAround=function(t,e,o){if(t!=e&&this.find)for(var n=0;n<this.find.length;n++){if(null==this.find[n].pos&&1==t.nodeType&&t.contains(this.find[n].node))e.compareDocumentPosition(this.find[n].node)&(o?2:4)&&(this.find[n].pos=this.currentPos)}},Ii.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},Ii.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var o=t.split("/"),n=this.options.context,i=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),r=-(n?n.depth+1:0)+(i?0:1),s=function(t,a){for(;t>=0;t--){var l=o[t];if(""==l){if(t==o.length-1||0==t)continue;for(;a>=r;a--)if(s(t-1,a))return!0;return!1}var p=a>0||0==a&&i?e.nodes[a].type:n&&a>=r?n.node(a-r).type:null;if(!p||p.name!=l&&-1==p.groups.indexOf(l))return!1;a--}return!0};return s(o.length-1,this.open)},Ii.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var o=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(o&&o.isTextblock&&o.defaultAttrs)return o}for(var n in this.parser.schema.nodes){var i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}},Object.defineProperties(Ii.prototype,Mi);var Ni=function(t,e){this.nodes=t||{},this.marks=e||{}};function Pi(t){var e={};for(var o in t){var n=t[o].spec.toDOM;n&&(e[o]=n)}return e}function Hi(t){return t.document||window.document}Ni.prototype.serializeFragment=function(t,e,o){var n=this;void 0===e&&(e={}),o||(o=Hi(e).createDocumentFragment());var i=o,r=null;return t.forEach((function(t){if(r||t.marks.length){r||(r=[]);for(var o=0,s=0;o<r.length&&s<t.marks.length;){var a=t.marks[s];if(n.marks[a.type.name]){if(!a.eq(r[o])||!1===a.type.spec.spanning)break;o+=2,s++}else s++}for(;o<r.length;)i=r.pop(),r.pop();for(;s<t.marks.length;){var l=t.marks[s++],p=n.serializeMark(l,t.isInline,e);p&&(r.push(l,i),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(n.serializeNode(t,e))})),o},Ni.prototype.serializeNode=function(t,e){void 0===e&&(e={});var o=Ni.renderSpec(Hi(e),this.nodes[t.type.name](t)),n=o.dom,i=o.contentDOM;if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,i,e):this.serializeFragment(t.content,e,i)}return n},Ni.prototype.serializeNodeAndMarks=function(t,e){void 0===e&&(e={});for(var o=this.serializeNode(t,e),n=t.marks.length-1;n>=0;n--){var i=this.serializeMark(t.marks[n],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(o),o=i.dom)}return o},Ni.prototype.serializeMark=function(t,e,o){void 0===o&&(o={});var n=this.marks[t.type.name];return n&&Ni.renderSpec(Hi(o),n(t,e))},Ni.renderSpec=function(t,e){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};var o=t.createElement(e[0]),n=null,i=e[1],r=1;if(i&&"object"==typeof i&&null==i.nodeType&&!Array.isArray(i))for(var s in r=2,i)null!=i[s]&&o.setAttribute(s,i[s]);for(var a=r;a<e.length;a++){var l=e[a];if(0===l){if(a<e.length-1||a>r)throw new RangeError("Content hole must be the only child of its parent node");return{dom:o,contentDOM:o}}var p=Ni.renderSpec(t,l),u=p.dom,c=p.contentDOM;if(o.appendChild(u),c){if(n)throw new RangeError("Multiple content holes");n=c}}return{dom:o,contentDOM:n}},Ni.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new Ni(this.nodesFromSchema(t),this.marksFromSchema(t)))},Ni.nodesFromSchema=function(t){var e=Pi(t.nodes);return e.text||(e.text=function(t){return t.text}),e},Ni.marksFromSchema=function(t){return Pi(t.marks)};const zi=Math.pow(2,16);function Di(t,e){return t+e*zi}function $i(t){return 65535&t}class Vi{constructor(t,e,o){this.pos=t,this.delInfo=e,this.recover=o}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class ji{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&ji.empty)return ji.empty}recover(t){let e=0,o=$i(t);if(!this.inverted)for(let t=0;t<o;t++)e+=this.ranges[3*t+2]-this.ranges[3*t+1];return this.ranges[3*o]+e+function(t){return(t-(65535&t))/zi}(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,o){let n=0,i=this.inverted?2:1,r=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;let l=this.ranges[s+i],p=this.ranges[s+r],u=a+l;if(t<=u){let i=a+n+((l?t==a?-1:t==u?1:e:e)<0?0:p);if(o)return i;let r=t==(e<0?a:u)?null:Di(s/3,t-a),c=t==a?2:t==u?1:4;return(e<0?t!=a:t!=u)&&(c|=8),new Vi(i,c,r)}n+=p-l}return o?t+n:new Vi(t+n,0,null)}touches(t,e){let o=0,n=$i(e),i=this.inverted?2:1,r=this.inverted?1:2;for(let e=0;e<this.ranges.length;e+=3){let s=this.ranges[e]-(this.inverted?o:0);if(s>t)break;let a=this.ranges[e+i];if(t<=s+a&&e==3*n)return!0;o+=this.ranges[e+r]-a}return!1}forEach(t){let e=this.inverted?2:1,o=this.inverted?1:2;for(let n=0,i=0;n<this.ranges.length;n+=3){let r=this.ranges[n],s=r-(this.inverted?i:0),a=r+(this.inverted?0:i),l=this.ranges[n+e],p=this.ranges[n+o];t(s,s+l,a,a+p),i+=p-l}}invert(){return new ji(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?ji.empty:new ji(t<0?[0,-t,0]:[0,0,t])}}ji.empty=new ji([]);const Fi=Object.create(null);class qi{getMap(){return ji.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let o=Fi[e.stepType];if(!o)throw new RangeError(`No step type ${e.stepType} defined`);return o.fromJSON(t,e)}static jsonID(t,e){if(t in Fi)throw new RangeError("Duplicate use of step JSON ID "+t);return Fi[t]=e,e.prototype.jsonID=t,e}}class Ui{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new Ui(t,null)}static fail(t){return new Ui(null,t)}static fromReplace(t,e,o,n){try{return Ui.ok(t.replace(e,o,n))}catch(t){if(t instanceof Pn)return Ui.fail(t.message);throw t}}}function Ji(t,e,o){let n=[];for(let i=0;i<t.childCount;i++){let r=t.child(i);r.content.size&&(r=r.copy(Ji(r.content,e,r))),r.isInline&&(r=e(r,o,i)),n.push(r)}return Rn.fromArray(n)}class Wi extends qi{constructor(t,e,o){super(),this.from=t,this.to=e,this.mark=o}apply(t){let e=t.slice(this.from,this.to),o=t.resolve(this.from),n=o.node(o.sharedDepth(this.to)),i=new Hn(Ji(e.content,((t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t),n),e.openStart,e.openEnd);return Ui.fromReplace(t,this.from,this.to,i)}invert(){return new Ki(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return e.deleted&&o.deleted||e.pos>=o.pos?null:new Wi(e.pos,o.pos,this.mark)}merge(t){return t instanceof Wi&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Wi(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Wi(e.from,e.to,t.markFromJSON(e.mark))}}qi.jsonID("addMark",Wi);class Ki extends qi{constructor(t,e,o){super(),this.from=t,this.to=e,this.mark=o}apply(t){let e=t.slice(this.from,this.to),o=new Hn(Ji(e.content,(t=>t.mark(this.mark.removeFromSet(t.marks))),t),e.openStart,e.openEnd);return Ui.fromReplace(t,this.from,this.to,o)}invert(){return new Wi(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return e.deleted&&o.deleted||e.pos>=o.pos?null:new Ki(e.pos,o.pos,this.mark)}merge(t){return t instanceof Ki&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ki(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ki(e.from,e.to,t.markFromJSON(e.mark))}}qi.jsonID("removeMark",Ki);class Zi extends qi{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Ui.fail("No node at mark step's position");let o=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return Ui.fromReplace(t,this.pos,this.pos+1,new Hn(Rn.from(o),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let t=this.mark.addToSet(e.marks);if(t.length==e.marks.length){for(let o=0;o<e.marks.length;o++)if(!e.marks[o].isInSet(t))return new Zi(this.pos,e.marks[o]);return new Zi(this.pos,this.mark)}}return new Gi(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Zi(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Zi(e.pos,t.markFromJSON(e.mark))}}qi.jsonID("addNodeMark",Zi);class Gi extends qi{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Ui.fail("No node at mark step's position");let o=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return Ui.fromReplace(t,this.pos,this.pos+1,new Hn(Rn.from(o),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new Zi(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Gi(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Gi(e.pos,t.markFromJSON(e.mark))}}qi.jsonID("removeNodeMark",Gi);class Xi extends qi{constructor(t,e,o,n=!1){super(),this.from=t,this.to=e,this.slice=o,this.structure=n}apply(t){return this.structure&&Qi(t,this.from,this.to)?Ui.fail("Structure replace would overwrite content"):Ui.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new ji([this.from,this.to-this.from,this.slice.size])}invert(t){return new Xi(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return e.deletedAcross&&o.deletedAcross?null:new Xi(e.pos,Math.max(e.pos,o.pos),this.slice)}merge(t){if(!(t instanceof Xi)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?Hn.empty:new Hn(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Xi(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?Hn.empty:new Hn(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Xi(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Xi(e.from,e.to,Hn.fromJSON(t,e.slice),!!e.structure)}}qi.jsonID("replace",Xi);class Yi extends qi{constructor(t,e,o,n,i,r,s=!1){super(),this.from=t,this.to=e,this.gapFrom=o,this.gapTo=n,this.slice=i,this.insert=r,this.structure=s}apply(t){if(this.structure&&(Qi(t,this.from,this.gapFrom)||Qi(t,this.gapTo,this.to)))return Ui.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Ui.fail("Gap is not a flat range");let o=this.slice.insertAt(this.insert,e.content);return o?Ui.fromReplace(t,this.from,this.to,o):Ui.fail("Content does not fit in gap")}getMap(){return new ji([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new Yi(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),o=t.mapResult(this.to,-1),n=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?o.pos:t.map(this.gapTo,1);return e.deletedAcross&&o.deletedAcross||n<e.pos||i>o.pos?null:new Yi(e.pos,o.pos,n,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Yi(e.from,e.to,e.gapFrom,e.gapTo,Hn.fromJSON(t,e.slice),e.insert,!!e.structure)}}function Qi(t,e,o){let n=t.resolve(e),i=o-e,r=n.depth;for(;i>0&&r>0&&n.indexAfter(r)==n.node(r).childCount;)r--,i--;if(i>0){let t=n.node(r).maybeChild(n.indexAfter(r));for(;i>0;){if(!t||t.isLeaf)return!0;t=t.firstChild,i--}}return!1}function tr(t,e,o){return(0==e||t.canReplace(e,t.childCount))&&(o==t.childCount||t.canReplace(0,o))}qi.jsonID("replaceAround",Yi);class er extends qi{constructor(t,e,o){super(),this.pos=t,this.attr=e,this.value=o}apply(t){let e=t.nodeAt(this.pos);if(!e)return Ui.fail("No node at attribute step's position");let o=Object.create(null);for(let t in e.attrs)o[t]=e.attrs[t];o[this.attr]=this.value;let n=e.type.create(o,null,e.marks);return Ui.fromReplace(t,this.pos,this.pos+1,new Hn(Rn.from(n),0,e.isLeaf?0:1))}getMap(){return ji.empty}invert(t){return new er(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new er(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new er(e.pos,e.attr,e.value)}}qi.jsonID("attr",er);class or extends qi{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let o in t.attrs)e[o]=t.attrs[o];e[this.attr]=this.value;let o=t.type.create(e,t.content,t.marks);return Ui.ok(o)}getMap(){return ji.empty}invert(t){return new or(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if("string"!=typeof e.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new or(e.attr,e.value)}}qi.jsonID("docAttr",or);let nr=class extends Error{};nr=function t(e){let o=Error.call(this,e);return o.__proto__=t.prototype,o},(nr.prototype=Object.create(Error.prototype)).constructor=nr,nr.prototype.name="TransformError";const ir=Object.create(null);class rr{constructor(t,e,o){this.$anchor=t,this.$head=e,this.ranges=o||[new sr(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=Hn.empty){let o=e.content.lastChild,n=null;for(let t=0;t<e.openEnd;t++)n=o,o=o.lastChild;let i=t.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){let{$from:a,$to:l}=r[s],p=t.mapping.slice(i);t.replaceRange(p.map(a.pos),p.map(l.pos),s?Hn.empty:e),0==s&&vr(t,i,(o?o.isInline:n&&n.isTextblock)?-1:1)}}replaceWith(t,e){let o=t.steps.length,n=this.ranges;for(let i=0;i<n.length;i++){let{$from:r,$to:s}=n[i],a=t.mapping.slice(o),l=a.map(r.pos),p=a.map(s.pos);i?t.deleteRange(l,p):(t.replaceRangeWith(l,p,e),vr(t,o,e.isInline?-1:1))}}static findFrom(t,e,o=!1){let n=t.parent.inlineContent?new pr(t):mr(t.node(0),t.parent,t.pos,t.index(),e,o);if(n)return n;for(let n=t.depth-1;n>=0;n--){let i=e<0?mr(t.node(0),t.node(n),t.before(n+1),t.index(n),e,o):mr(t.node(0),t.node(n),t.after(n+1),t.index(n)+1,e,o);if(i)return i}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new fr(t.node(0))}static atStart(t){return mr(t,t,0,0,1)||new fr(t)}static atEnd(t){return mr(t,t,t.content.size,t.childCount,-1)||new fr(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let o=ir[e.type];if(!o)throw new RangeError(`No selection type ${e.type} defined`);return o.fromJSON(t,e)}static jsonID(t,e){if(t in ir)throw new RangeError("Duplicate use of selection JSON ID "+t);return ir[t]=e,e.prototype.jsonID=t,e}getBookmark(){return pr.between(this.$anchor,this.$head).getBookmark()}}rr.prototype.visible=!0;class sr{constructor(t,e){this.$from=t,this.$to=e}}let ar=!1;function lr(t){ar||t.parent.inlineContent||(ar=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class pr extends rr{constructor(t,e=t){lr(t),lr(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let o=t.resolve(e.map(this.head));if(!o.parent.inlineContent)return rr.near(o);let n=t.resolve(e.map(this.anchor));return new pr(n.parent.inlineContent?n:o,o)}replace(t,e=Hn.empty){if(super.replace(t,e),e==Hn.empty){let e=this.$from.marksAcross(this.$to);e&&t.ensureMarks(e)}}eq(t){return t instanceof pr&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new ur(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new pr(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,o=e){let n=t.resolve(e);return new this(n,o==e?n:t.resolve(o))}static between(t,e,o){let n=t.pos-e.pos;if(o&&!n||(o=n>=0?1:-1),!e.parent.inlineContent){let t=rr.findFrom(e,o,!0)||rr.findFrom(e,-o,!0);if(!t)return rr.near(e,o);e=t.$head}return t.parent.inlineContent||(0==n||(t=(rr.findFrom(t,-o,!0)||rr.findFrom(t,o,!0)).$anchor).pos<e.pos!=n<0)&&(t=e),new pr(t,e)}}rr.jsonID("text",pr);class ur{constructor(t,e){this.anchor=t,this.head=e}map(t){return new ur(t.map(this.anchor),t.map(this.head))}resolve(t){return pr.between(t.resolve(this.anchor),t.resolve(this.head))}}class cr extends rr{constructor(t){let e=t.nodeAfter,o=t.node(0).resolve(t.pos+e.nodeSize);super(t,o),this.node=e}map(t,e){let{deleted:o,pos:n}=e.mapResult(this.anchor),i=t.resolve(n);return o?rr.near(i):new cr(i)}content(){return new Hn(Rn.from(this.node),0,0)}eq(t){return t instanceof cr&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new dr(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new cr(t.resolve(e.anchor))}static create(t,e){return new cr(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}cr.prototype.visible=!1,rr.jsonID("node",cr);class dr{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:o}=t.mapResult(this.anchor);return e?new ur(o,o):new dr(o)}resolve(t){let e=t.resolve(this.anchor),o=e.nodeAfter;return o&&cr.isSelectable(o)?new cr(e):rr.near(e)}}class fr extends rr{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=Hn.empty){if(e==Hn.empty){t.delete(0,t.doc.content.size);let e=rr.atStart(t.doc);e.eq(t.selection)||t.setSelection(e)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new fr(t)}map(t){return new fr(t)}eq(t){return t instanceof fr}getBookmark(){return hr}}rr.jsonID("all",fr);const hr={map(){return this},resolve:t=>new fr(t)};function mr(t,e,o,n,i,r=!1){if(e.inlineContent)return pr.create(t,o);for(let s=n-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let n=e.child(s);if(n.isAtom){if(!r&&cr.isSelectable(n))return cr.create(t,o-(i<0?n.nodeSize:0))}else{let e=mr(t,n,o+i,i<0?n.childCount:0,i,r);if(e)return e}o+=n.nodeSize*i}return null}function vr(t,e,o){let n=t.steps.length-1;if(n<e)return;let i,r=t.steps[n];(r instanceof Xi||r instanceof Yi)&&(t.mapping.maps[n].forEach(((t,e,o,n)=>{null==i&&(i=n)})),t.setSelection(rr.near(t.doc.resolve(i),o)))}function gr(t,e){return e&&t?t.bind(e):t}class br{constructor(t,e,o){this.name=t,this.init=gr(e.init,o),this.apply=gr(e.apply,o)}}new br("doc",{init:t=>t.doc||t.schema.topNodeType.createAndFill(),apply:t=>t.doc}),new br("selection",{init:(t,e)=>t.selection||rr.atStart(e.doc),apply:t=>t.selection}),new br("storedMarks",{init:t=>t.storedMarks||null,apply:(t,e,o,n)=>n.selection.$cursor?t.storedMarks:null}),new br("scrollToSelection",{init:()=>0,apply:(t,e)=>t.scrolledIntoView?e+1:e}),"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&os.platform();function yr(t){return function(e,o){let{$from:n,$to:i}=e.selection,r=n.blockRange(i,(e=>e.childCount>0&&e.firstChild.type==t));return!!r&&(!o||(n.node(r.depth-1).type==t?function(t,e,o,n){let i=t.tr,r=n.end,s=n.$to.end(n.depth);r<s&&(i.step(new Yi(r-1,s,r,s,new Hn(Rn.from(o.create(null,n.parent.copy())),1,0),1,!0)),n=new ei(i.doc.resolve(n.$from.pos),i.doc.resolve(s),n.depth));const a=function(t){let e=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let o=t.depth;;--o){let n=t.$from.node(o),i=t.$from.index(o),r=t.$to.indexAfter(o);if(o<t.depth&&n.canReplace(i,r,e))return o;if(0==o||n.type.spec.isolating||!tr(n,i,r))break}return null}(n);if(null==a)return!1;i.lift(n,a);let l=i.mapping.map(r,-1)-1;(function(t,e){let o=t.resolve(e),n=o.index();return i=o.nodeBefore,r=o.nodeAfter,!(!i||!r||i.isLeaf||!i.canAppend(r))&&o.parent.canReplace(n,n+1);var i,r})(i.doc,l)&&i.join(l);return e(i.scrollIntoView()),!0}(e,o,t,r):function(t,e,o){let n=t.tr,i=o.parent;for(let t=o.end,e=o.endIndex-1,r=o.startIndex;e>r;e--)t-=i.child(e).nodeSize,n.delete(t-1,t+1);let r=n.doc.resolve(o.start),s=r.nodeAfter;if(n.mapping.map(o.end)!=o.start+r.nodeAfter.nodeSize)return!1;let a=0==o.startIndex,l=o.endIndex==i.childCount,p=r.node(-1),u=r.index(-1);if(!p.canReplace(u+(a?0:1),u+1,s.content.append(l?Rn.empty:Rn.from(i))))return!1;let c=r.pos,d=c+s.nodeSize;return n.step(new Yi(c-(a?1:0),d+(l?1:0),c+1,d-1,new Hn((a?Rn.empty:Rn.from(i.copy(Rn.empty))).append(l?Rn.empty:Rn.from(i.copy(Rn.empty))),a?0:1,l?0:1),a?0:1)),e(n.scrollIntoView()),!0}(e,o,r)))}}function wr(t){return function(e,o){let{$from:n,$to:i}=e.selection,r=n.blockRange(i,(e=>e.childCount>0&&e.firstChild.type==t));if(!r)return!1;let s=r.startIndex;if(0==s)return!1;let a=r.parent,l=a.child(s-1);if(l.type!=t)return!1;if(o){let n=l.lastChild&&l.lastChild.type==a.type,i=Rn.from(n?t.create():null),s=new Hn(Rn.from(t.create(null,Rn.from(a.type.create(null,i)))),n?3:1,0),p=r.start,u=r.end;o(e.tr.step(new Yi(p-(n?3:1),u,p,u,s,1,!0)).scrollIntoView())}return!0}}class kr{constructor(t,e,o={}){var n;this.match=t,this.match=t,this.handler="string"==typeof e?(n=e,function(t,e,o,i){let r=n;if(e[1]){let t=e[0].lastIndexOf(e[1]);r+=e[0].slice(t+e[1].length);let n=(o+=t)-i;n>0&&(r=e[0].slice(t-n,t)+r,o=i)}return t.tr.insertText(r,o,i)}):e,this.undoable=!1!==o.undoable,this.inCode=o.inCode||!1}}new kr(/--$/,"—"),new kr(/\.\.\.$/,"…"),new kr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new kr(/"$/,"”"),new kr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new kr(/'$/,"’");let xr=class extends t{onChange(){this.updateAttrs({done:!this.node.attrs.done})}};Z([lt({type:Object,required:!0}),G("design:type",Object)],xr.prototype,"node",void 0),Z([lt({type:Object,required:!0}),G("design:type",Object)],xr.prototype,"view",void 0),Z([lt({type:Function,required:!0}),G("design:type",Function)],xr.prototype,"updateAttrs",void 0),xr=Z([st({components:{VCheckbox:A}})],xr);var Sr,Or,Lr,Ar,Cr,Er=Et({render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{staticClass:"tiptap-vuetify-todo-item-view",attrs:{"data-type":t.node.type.name,"data-done":t.node.attrs.done.toString(),"data-drag-handle":""}},[o("VCheckbox",{staticClass:"mr-2 mt-3 pt-1",attrs:{"input-value":t.node.attrs.done,"hide-details":"",disabled:!t.view.editable},on:{change:t.onChange}}),t._v(" "),o("div",{ref:"content",staticClass:"todo-content",attrs:{contenteditable:t.view.editable.toString()}})],1)},staticRenderFns:[]},undefined,xr,undefined,!1,undefined,void 0,void 0);class Tr extends r{get name(){return"todo_item"}get defaultOptions(){return{nested:!1}}get view(){return Er}get schema(){return{attrs:{done:{default:!1}},draggable:!0,content:this.options.nested?"(paragraph|todo_list)+":"paragraph+",toDOM:t=>{const{done:e}=t.attrs;return["li",{"data-type":this.name,"data-done":e.toString()},["span",{class:"todo-checkbox",contenteditable:"false"}],["div",{class:"todo-content"},0]]},parseDOM:[{priority:51,tag:`[data-type="${this.name}"]`,getAttrs:t=>({done:"true"===t.getAttribute("data-done")})}]}}keys({type:t}){return{Enter:(e=t,function(t,o){const{$from:n,$to:i,node:r}=t.selection;if(r&&r.isBlock||n.depth<2||!n.sameParent(i))return!1;const s=n.node(-1);if(s.type!=e)return!1;if(0==n.parent.content.size){if(2==n.depth||n.node(-3).type!=e||n.index(-2)!=n.node(-2).childCount-1)return!1;if(o){let i=Rn.empty;const r=n.index(-1)>0;for(let t=n.depth-(r?1:2);t>=n.depth-3;t--)i=Rn.from(n.node(t).copy(i));i=i.append(Rn.from(e.createAndFill()));const s=t.tr.replace(n.before(r?null:-1),n.after(-3),new Hn(i,r?3:2,2));s.setSelection(t.selection.constructor.near(s.doc.resolve(n.pos+(r?3:2)))),o(s.scrollIntoView())}return!0}const a=i.pos==n.end()?s.contentMatchAt(n.indexAfter(-1)).defaultType:null,l=t.tr.delete(n.pos,i.pos);let p=a&&[{type:e},{type:a}];return p||(p=[{type:e},null]),!!function(t,e,o=1,n){const i=t.resolve(e),r=i.depth-o,s=n&&n[n.length-1]||i.parent;if(r<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let t=i.depth-1,e=o-2;t>r;t--,e--){const o=i.node(t),r=i.index(t);if(o.type.spec.isolating)return!1;let s=o.content.cutByIndex(r,o.childCount);const a=n&&n[e]||o;if(a!=o&&(s=s.replaceChild(0,a.type.create(a.attrs))),!o.canReplace(r+1,o.childCount))return!1}const a=i.indexAfter(r),l=n&&n[0];return i.node(r).canReplaceWith(a,a,l?l.type:i.node(r+1).type)}(l.doc,n.pos,2,p)&&(o&&o(l.split(n.pos,2,p).scrollIntoView()),!0)}),Tab:this.options.nested?wr(t):()=>{},"Shift-Tab":yr(t)};var e}}class Rr extends bo{constructor(t){super(t,Tr)}get availableActions(){return[]}}const Ir="value",Mr="context",Br="editor",_r="imageSourcesOverride",Nr="nativeExtensionName";let Pr=class extends(ot(Wt)){constructor(){super(...arguments),this.COMMON_ICONS=vo,this.form={rowsCount:2,colsCount:3,withHeaderRow:!1}}apply(){this[Mr].commands.createTable({rowsCount:this.form.rowsCount,colsCount:this.form.colsCount,withHeaderRow:this.form.withHeaderRow}),this.close(),this[Br].focus()}close(){this.$destroy(),this.$el.parentNode.removeChild(this.$el)}};Sr=Ir,Or=Nr,Lr=Mr,Ar=Br,Cr=_r,Z([lt({type:Boolean,default:!1}),G("design:type",Boolean)],Pr.prototype,Sr,void 0),Z([lt({type:String,required:!0}),G("design:type",String)],Pr.prototype,Or,void 0),Z([lt({type:Object,required:!0}),G("design:type",Object)],Pr.prototype,Lr,void 0),Z([lt({type:Object,required:!0}),G("design:type",Object)],Pr.prototype,Ar,void 0),Z([lt({type:Boolean,required:!1}),G("design:type",Object)],Pr.prototype,Cr,void 0),Pr=Z([st({components:{VRow:b,VCol:y,VDialog:d,VCard:c,VCardTitle:f,VCardText:h,VCardActions:m,VBtn:l,VSpacer:v,VIcon:p,VTextField:g,VCheckbox:A}})],Pr);var Hr=Et({render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{value:t.value,"max-width":"500px"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[t._v("\n        "+t._s(t.$i18n.getMsg("extensions.Table.window.title"))+"\n      ")]),t._v(" "),o("v-spacer"),t._v(" "),o("v-btn",{attrs:{icon:""},on:{click:t.close}},[o("v-icon",[t._v(t._s(t.COMMON_ICONS.close[t.$tiptapVuetify.iconsGroup]))])],1)],1),t._v(" "),o("v-card-text",[o("v-text-field",{attrs:{label:t.$i18n.getMsg("extensions.Table.window.form.rowsCount")},model:{value:t.form.rowsCount,callback:function(e){t.$set(t.form,"rowsCount",e)},expression:"form.rowsCount"}}),t._v(" "),o("v-text-field",{attrs:{label:t.$i18n.getMsg("extensions.Table.window.form.colsCount")},model:{value:t.form.colsCount,callback:function(e){t.$set(t.form,"colsCount",e)},expression:"form.colsCount"}}),t._v(" "),o("v-checkbox",{attrs:{label:t.$i18n.getMsg("extensions.Table.window.form.withHeaderRow")},model:{value:t.form.withHeaderRow,callback:function(e){t.$set(t.form,"withHeaderRow",e)},expression:"form.withHeaderRow"}})],1),t._v(" "),o("v-card-actions",[o("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v("\n        "+t._s(t.$i18n.getMsg("extensions.Table.window.buttons.close"))+"\n      ")]),t._v(" "),o("v-btn",{attrs:{text:""},on:{click:t.apply}},[t._v("\n        "+t._s(t.$i18n.getMsg("extensions.Table.window.buttons.apply"))+"\n      ")])],1)],1)],1)},staticRenderFns:[]},undefined,Pr,undefined,!1,undefined,void 0,void 0);class zr extends bo{constructor(t){super(t,U)}get availableActions(){const e="table";return[{render:new Nt({tooltip:new go("extensions.Table.buttons.tooltip"),icons:{md:new dt("table"),fa:new dt("fas fa-table"),mdi:new dt("mdi-table"),mdiSvg:new dt("M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z")},nativeExtensionName:e,async onClick({context:o,editor:n}){const i=new(t.extend(Hr))({vuetify:t.prototype.tiptapVuetifyPlugin.vuetify,propsData:{value:!0,nativeExtensionName:e,context:o,editor:n}});i.$mount(),document.querySelector("body").appendChild(i.$el)}})}]}}class Dr extends bo{constructor(t){super(t,J)}get availableActions(){return[]}}class $r extends bo{constructor(t){super(t,W)}get availableActions(){return[]}}class Vr extends bo{constructor(t){super(t,K)}get availableActions(){return[]}}function jr(t,e,o,n){const i=e&&e.length>0?new RegExp(`^image\\/(${e.join("|")})$`,"i"):null;return i||o?t.filter((t=>{const e=!i||i.test(t.type),r=!o||t.size<=o;return n&&(e?r||n("size",t):n("type",t)),e&&r})):t}class Fr extends r{constructor(t){super(t),this.fileTypes=t.fileTypes,this.maxFileSize=t.maxFileSize,this.filterErrorFunc=t.filterErrorFunc}get name(){return"custom_image"}get schema(){return{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:t=>({src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")})}],toDOM:t=>["img",t.attrs]}}commands({type:t}){return e=>(o,n)=>{const{selection:i}=o,r=i.$cursor?i.$cursor.pos:i.$to.pos,s=t.create(e);n(o.tr.insert(r,s))}}get plugins(){const t=this.fileTypes,e=this.maxFileSize,o=this.filterErrorFunc,n=function(n,i,r,s){if(!r||0===r.length)return;i.preventDefault();const a=jr(Array.from(r),t,e,o);if(0===a.length)return;const{schema:l}=n.state;a.forEach((t=>{const e=new FileReader;e.onload=t=>{const e=l.nodes.custom_image.create({src:t.target.result}),o=s?n.state.tr.insert(s.pos,e):n.state.tr.replaceSelectionWith(e);n.dispatch(o)},e.readAsDataURL(t)}))};return[new s({props:{handleDOMEvents:{drop(t,e){n(t,e,e.dataTransfer&&e.dataTransfer.files,t.posAtCoords({left:e.clientX,top:e.clientY}))},paste(t,e){n(t,e,e.clipboardData&&e.clipboardData.files,null)}}}})]}}class qr{constructor(t,e,o,n,i,r){this.context=t,this.editor=e,this.nativeExtensionName=o,this.fileTypes=n,this.maxFileSize=i,this.filterErrorFunc=r}open(){new Promise(((t,e)=>{let o=!1;const n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("id","tiptap-vuetify-custom-image__input-file"),n.setAttribute("accept","image/*"),n.setAttribute("multiple",""),n.style.display="none",document.querySelector("body").appendChild(n),n.addEventListener("change",(()=>{o=!0,t(n.files);const e=document.getElementById(n.id);e&&document.body.removeChild(e)}),{once:!0}),window.addEventListener("focus",(()=>{setTimeout((()=>{if(!o){const t=document.getElementById(n.id);t&&(e(new Error),document.body.removeChild(t))}}),300)}),{once:!0}),n.click()})).then((t=>{t&&this.readFiles(jr(Array.from(t),this.fileTypes,this.maxFileSize,this.filterErrorFunc)).then((t=>{t.forEach((t=>{this.context.commands[this.nativeExtensionName](t)})),this.editor.focus()})).catch((t=>console.error(t)))})).catch((()=>{}))}async readFiles(t){const e=t.map((t=>new Promise(((e,o)=>{const n=new FileReader;n.onload=async()=>{e({src:n.result.toString(),alt:t.name})},n.onerror=t=>{o(t)},n.readAsDataURL(t)}))));return await Promise.all(e)}}class Ur extends bo{constructor(t){(t=t||{}).fileTypes=t.fileTypes||["png","jpeg","gif"],super(t,Fr),this.fileTypes=t.fileTypes,this.maxFileSize=t.maxFileSize,this.filterErrorFunc=t.filterErrorFunc}get availableActions(){const t="custom_image",e=this.fileTypes,o=this.maxFileSize,n=this.filterErrorFunc;return[{render:new Nt({tooltip:new go("extensions.Image.buttons.tooltip"),icons:{md:new dt("image"),fa:new dt("fas fa-image"),mdi:new dt("mdi-image"),mdiSvg:new dt("M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z")},nativeExtensionName:t,async onClick({context:i,editor:r}){new qr(i,r,t,e,o,n).open()}})}]}}const Jr=new class{constructor(){this.installed=!1}get vuetifyLang(){return this.vuetify.framework.lang.current}install(t,e){if(!e||!e.vuetify)return void Lt.error('Please, specify in options the Vuetify Object ("vuetify" property)');const{vuetify:o,iconsGroup:n=mo.defaultIconsGroup}=e;t.prototype.tiptapVuetifyPlugin=Jr,t.prototype.$tiptapVuetify={iconsGroup:n},this.vuetify=o,this.installed=!0}};!function(){let t=null;"undefined"!=typeof window?t=window:"undefined"!=typeof global&&(t=global),t&&t.Vue&&(t.Vue.use(Jr,{vuetify:t.vuetify,...t.tiptapVuetifyPluginOptions}),t.Vue.component("tiptap-vuetify",ho))}();export{Ro as Blockquote,wo as Bold,Co as BulletList,Oo as Code,Lo as CodeBlock,Ur as CustomImage,Io as HardBreak,yo as Heading,Bo as History,Mo as HorizontalRule,An as Image,ko as Italic,Jo as Link,To as ListItem,Eo as OrderedList,Ao as Paragraph,xo as Strike,zr as Table,Dr as TableCell,$r as TableHeader,Vr as TableRow,ho as TiptapVuetify,Jr as TiptapVuetifyPlugin,Rr as TodoItem,Cn as TodoList,So as Underline};
